{"ast":null,"code":"/**\r\n * DevExtreme (ui/collection/ui.collection_widget.edit.strategy.plain.js)\r\n * Version: 19.2.2\r\n * Build date: Tue Oct 01 2019\r\n *\r\n * Copyright (c) 2012 - 2019 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _typeof = \"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\nvar inArray = require(\"../../core/utils/array\").inArray,\n  EditStrategy = require(\"./ui.collection_widget.edit.strategy\");\nvar PlainEditStrategy = EditStrategy.inherit({\n  _getPlainItems: function _getPlainItems() {\n    return this._collectionWidget.option(\"items\") || [];\n  },\n  getIndexByItemData: function getIndexByItemData(itemData) {\n    var keyOf = this._collectionWidget.keyOf.bind(this._collectionWidget);\n    if (keyOf) {\n      return this.getIndexByKey(keyOf(itemData));\n    } else {\n      return inArray(itemData, this._getPlainItems());\n    }\n  },\n  getItemDataByIndex: function getItemDataByIndex(index) {\n    return this._getPlainItems()[index];\n  },\n  deleteItemAtIndex: function deleteItemAtIndex(index) {\n    this._getPlainItems().splice(index, 1);\n  },\n  itemsGetter: function itemsGetter() {\n    return this._getPlainItems();\n  },\n  getKeysByItems: function getKeysByItems(items) {\n    var keyOf = this._collectionWidget.keyOf.bind(this._collectionWidget);\n    var result = items;\n    if (keyOf) {\n      result = [];\n      for (var i = 0; i < items.length; i++) {\n        result.push(keyOf(items[i]));\n      }\n    }\n    return result;\n  },\n  getIndexByKey: function getIndexByKey(key) {\n    var cache = this._cache,\n      keys = cache && cache.keys || this.getKeysByItems(this._getPlainItems());\n    if (cache && !cache.keys) {\n      cache.keys = keys;\n    }\n    if (\"object\" === (\"undefined\" === typeof key ? \"undefined\" : _typeof(key))) {\n      for (var i = 0, length = keys.length; i < length; i++) {\n        if (this._equalKeys(key, keys[i])) {\n          return i;\n        }\n      }\n    } else {\n      return keys.indexOf(key);\n    }\n    return -1;\n  },\n  getItemsByKeys: function getItemsByKeys(keys, items) {\n    return (items || keys).slice();\n  },\n  moveItemAtIndexToIndex: function moveItemAtIndexToIndex(movingIndex, destinationIndex) {\n    var items = this._getPlainItems(),\n      movedItemData = items[movingIndex];\n    items.splice(movingIndex, 1);\n    items.splice(destinationIndex, 0, movedItemData);\n  },\n  _isItemIndex: function _isItemIndex(index) {\n    return \"number\" === typeof index && Math.round(index) === index;\n  },\n  _getNormalizedItemIndex: function _getNormalizedItemIndex(itemElement) {\n    return this._collectionWidget._itemElements().index(itemElement);\n  },\n  _normalizeItemIndex: function _normalizeItemIndex(index) {\n    return index;\n  },\n  _denormalizeItemIndex: function _denormalizeItemIndex(index) {\n    return index;\n  },\n  _getItemByNormalizedIndex: function _getItemByNormalizedIndex(index) {\n    return index > -1 ? this._collectionWidget._itemElements().eq(index) : null;\n  },\n  _itemsFromSameParent: function _itemsFromSameParent() {\n    return true;\n  }\n});\nmodule.exports = PlainEditStrategy;","map":null,"metadata":{},"sourceType":"script"}