{"ast":null,"code":"/**\r\n * DevExtreme (ui/grid_core/ui.grid_core.column_state_mixin.js)\r\n * Version: 19.2.2\r\n * Build date: Tue Oct 01 2019\r\n *\r\n * Copyright (c) 2012 - 2019 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\nvar _renderer2 = _interopRequireDefault(_renderer);\nvar _common = require(\"../../core/utils/common\");\nvar _extend = require(\"../../core/utils/extend\");\nvar _position = require(\"../../core/utils/position\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nvar COLUMN_INDICATORS_CLASS = \"dx-column-indicators\",\n  GROUP_PANEL_ITEM_CLASS = \"dx-group-panel-item\";\nmodule.exports = {\n  _applyColumnState: function _applyColumnState(options) {\n    var that = this,\n      rtlEnabled = this.option(\"rtlEnabled\"),\n      columnAlignment = that._getColumnAlignment(options.column.alignment, rtlEnabled),\n      parameters = (0, _extend.extend)(true, {\n        columnAlignment: columnAlignment\n      }, options),\n      isGroupPanelItem = parameters.rootElement.hasClass(GROUP_PANEL_ITEM_CLASS),\n      $indicatorsContainer = that._createIndicatorContainer(parameters, isGroupPanelItem),\n      $span = (0, _renderer2.default)(\"<span>\").addClass(that._getIndicatorClassName(options.name)),\n      getIndicatorAlignment = function getIndicatorAlignment() {\n        if (rtlEnabled) {\n          return \"left\" === columnAlignment ? \"right\" : \"left\";\n        }\n        return columnAlignment;\n      };\n    parameters.container = $indicatorsContainer;\n    parameters.indicator = $span;\n    that._renderIndicator(parameters);\n    $indicatorsContainer[(isGroupPanelItem || !options.showColumnLines) && \"left\" === getIndicatorAlignment() ? \"appendTo\" : \"prependTo\"](options.rootElement);\n    return $span;\n  },\n  _getIndicatorClassName: _common.noop,\n  _getColumnAlignment: function _getColumnAlignment(alignment, rtlEnabled) {\n    rtlEnabled = rtlEnabled || this.option(\"rtlEnabled\");\n    return alignment && \"center\" !== alignment ? alignment : (0, _position.getDefaultAlignment)(rtlEnabled);\n  },\n  _createIndicatorContainer: function _createIndicatorContainer(options, ignoreIndicatorAlignment) {\n    var $indicatorsContainer = this._getIndicatorContainer(options.rootElement),\n      indicatorAlignment = \"left\" === options.columnAlignment ? \"right\" : \"left\";\n    if (!$indicatorsContainer.length) {\n      $indicatorsContainer = (0, _renderer2.default)(\"<div>\").addClass(COLUMN_INDICATORS_CLASS);\n    }\n    this.setAria(\"role\", \"presentation\", $indicatorsContainer);\n    return $indicatorsContainer.css(\"float\", options.showColumnLines && !ignoreIndicatorAlignment ? indicatorAlignment : null);\n  },\n  _getIndicatorContainer: function _getIndicatorContainer($cell) {\n    return $cell && $cell.find(\".\" + COLUMN_INDICATORS_CLASS);\n  },\n  _getIndicatorElements: function _getIndicatorElements($cell) {\n    var $indicatorContainer = this._getIndicatorContainer($cell);\n    return $indicatorContainer && $indicatorContainer.children();\n  },\n  _renderIndicator: function _renderIndicator(options) {\n    var $container = options.container,\n      $indicator = options.indicator;\n    $container && $indicator && $container.append($indicator);\n  },\n  _updateIndicators: function _updateIndicators(indicatorName) {\n    var rowOptions,\n      $cell,\n      i,\n      that = this,\n      columns = that.getColumns(),\n      $cells = that.getColumnElements();\n    if (!$cells || columns.length !== $cells.length) {\n      return;\n    }\n    for (i = 0; i < columns.length; i++) {\n      $cell = $cells.eq(i);\n      that._updateIndicator($cell, columns[i], indicatorName);\n      rowOptions = $cell.parent().data(\"options\");\n      if (rowOptions && rowOptions.cells) {\n        rowOptions.cells[$cell.index()].column = columns[i];\n      }\n    }\n  },\n  _updateIndicator: function _updateIndicator($cell, column, indicatorName) {\n    if (!column.command) {\n      return this._applyColumnState({\n        name: indicatorName,\n        rootElement: $cell,\n        column: column,\n        showColumnLines: this.option(\"showColumnLines\")\n      });\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"script"}