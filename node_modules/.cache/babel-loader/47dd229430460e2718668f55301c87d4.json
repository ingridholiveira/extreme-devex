{"ast":null,"code":"/**\r\n * DevExtreme (ui/tree_view/ui.tree_view.search.js)\r\n * Version: 19.2.2\r\n * Build date: Tue Oct 01 2019\r\n *\r\n * Copyright (c) 2012 - 2019 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\nvar _renderer2 = _interopRequireDefault(_renderer);\nvar _component_registrator = require(\"../../core/component_registrator\");\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\nvar _ui = require(\"../widget/ui.search_box_mixin\");\nvar _ui2 = _interopRequireDefault(_ui);\nvar _extend = require(\"../../core/utils/extend\");\nvar _uiTree_view = require(\"./ui.tree_view.base\");\nvar _uiTree_view2 = _interopRequireDefault(_uiTree_view);\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nvar WIDGET_CLASS = \"dx-treeview\";\nvar NODE_CONTAINER_CLASS = WIDGET_CLASS + \"-node-container\";\nvar TreeViewSearch = _uiTree_view2.default.inherit(_ui2.default).inherit({\n  _addWidgetPrefix: function _addWidgetPrefix(className) {\n    return WIDGET_CLASS + \"-\" + className;\n  },\n  _optionChanged: function _optionChanged(args) {\n    switch (args.name) {\n      case \"searchValue\":\n        if (this._showCheckboxes() && this._isRecursiveSelection()) {\n          this._removeSelection();\n        }\n        this._initDataAdapter();\n        this._updateSearch();\n        this._repaintContainer();\n        break;\n      case \"searchExpr\":\n        this._initDataAdapter();\n        this.repaint();\n        break;\n      case \"searchMode\":\n        this.option(\"expandNodesRecursive\") ? this._updateDataAdapter() : this._initDataAdapter();\n        this.repaint();\n        break;\n      default:\n        this.callBase(args);\n    }\n  },\n  _updateDataAdapter: function _updateDataAdapter() {\n    this._setOptionSilent(\"expandNodesRecursive\", false);\n    this._initDataAdapter();\n    this._setOptionSilent(\"expandNodesRecursive\", true);\n  },\n  _getDataAdapterOptions: function _getDataAdapterOptions() {\n    return (0, _extend.extend)(this.callBase(), {\n      searchValue: this.option(\"searchValue\"),\n      searchMode: this.option(\"searchMode\") || \"contains\",\n      searchExpr: this.option(\"searchExpr\")\n    });\n  },\n  _updateSearch: function _updateSearch() {\n    if (this._searchEditor) {\n      var editorOptions = this._getSearchEditorOptions();\n      this._searchEditor.option(editorOptions);\n    }\n  },\n  _repaintContainer: function _repaintContainer() {\n    var rootNodes,\n      $container = this.$element().find(\".\" + NODE_CONTAINER_CLASS).first();\n    if ($container.length) {\n      $container.empty();\n      rootNodes = this._dataAdapter.getRootNodes();\n      this._renderEmptyMessage(rootNodes);\n      this._renderItems($container, rootNodes);\n      this._fireContentReadyAction();\n    }\n  },\n  _itemContainer: function _itemContainer(isSearchMode) {\n    if (this._scrollableContainer && isSearchMode) {\n      return (0, _renderer2.default)(this._scrollableContainer.content());\n    }\n    return this.callBase();\n  },\n  _addWidgetClass: function _addWidgetClass() {\n    this.$element().addClass(this._widgetClass());\n  },\n  _clean: function _clean() {\n    this.callBase();\n    this._removeSearchBox();\n  }\n});\n(0, _component_registrator2.default)(\"dxTreeView\", TreeViewSearch);\nmodule.exports = TreeViewSearch;","map":null,"metadata":{},"sourceType":"script"}