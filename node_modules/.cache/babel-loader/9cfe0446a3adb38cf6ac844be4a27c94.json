{"ast":null,"code":"/**\r\n * DevExtreme (ui/box.js)\r\n * Version: 19.2.2\r\n * Build date: Tue Oct 01 2019\r\n *\r\n * Copyright (c) 2012 - 2019 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) {\n        descriptor.writable = true;\n      }\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) {\n      defineProperties(Constructor.prototype, protoProps);\n    }\n    if (staticProps) {\n      defineProperties(Constructor, staticProps);\n    }\n    return Constructor;\n  };\n}();\nvar _get = function get(object, property, receiver) {\n  if (null === object) {\n    object = Function.prototype;\n  }\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n  if (void 0 === desc) {\n    var parent = Object.getPrototypeOf(object);\n    if (null === parent) {\n      return;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else {\n    if (\"value\" in desc) {\n      return desc.value;\n    } else {\n      var getter = desc.get;\n      if (void 0 === getter) {\n        return;\n      }\n      return getter.call(receiver);\n    }\n  }\n};\nvar _renderer = require(\"../core/renderer\");\nvar _renderer2 = _interopRequireDefault(_renderer);\nvar _events_engine = require(\"../events/core/events_engine\");\nvar _events_engine2 = _interopRequireDefault(_events_engine);\nvar _component_registrator = require(\"../core/component_registrator\");\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\nvar _extend = require(\"../core/utils/extend\");\nvar _common = require(\"../core/utils/common\");\nvar _window = require(\"../core/utils/window\");\nvar _window2 = _interopRequireDefault(_window);\nvar _inflector = require(\"../core/utils/inflector\");\nvar _inflector2 = _interopRequireDefault(_inflector);\nvar _type = require(\"../core/utils/type\");\nvar _style = require(\"../core/utils/style\");\nvar _style2 = _interopRequireDefault(_style);\nvar _iterator = require(\"../core/utils/iterator\");\nvar _browser = require(\"../core/utils/browser\");\nvar _browser2 = _interopRequireDefault(_browser);\nvar _item = require(\"./collection/item\");\nvar _item2 = _interopRequireDefault(_item);\nvar _uiCollection_widget = require(\"./collection/ui.collection_widget.edit\");\nvar _uiCollection_widget2 = _interopRequireDefault(_uiCollection_widget);\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (\"object\" === typeof call || \"function\" === typeof call) ? call : self;\n}\nfunction _inherits(subClass, superClass) {\n  if (\"function\" !== typeof superClass && null !== superClass) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) {\n    Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n}\nvar BOX_CLASS = \"dx-box\";\nvar BOX_SELECTOR = \".dx-box\";\nvar BOX_ITEM_CLASS = \"dx-box-item\";\nvar BOX_ITEM_DATA_KEY = \"dxBoxItemData\";\nvar MINSIZE_MAP = {\n  row: \"minWidth\",\n  col: \"minHeight\"\n};\nvar MAXSIZE_MAP = {\n  row: \"maxWidth\",\n  col: \"maxHeight\"\n};\nvar SHRINK = 1;\nvar FLEX_JUSTIFY_CONTENT_MAP = {\n  start: \"flex-start\",\n  end: \"flex-end\",\n  center: \"center\",\n  \"space-between\": \"space-between\",\n  \"space-around\": \"space-around\"\n};\nvar FLEX_ALIGN_ITEMS_MAP = {\n  start: \"flex-start\",\n  end: \"flex-end\",\n  center: \"center\",\n  stretch: \"stretch\"\n};\nvar FLEX_DIRECTION_MAP = {\n  row: \"row\",\n  col: \"column\"\n};\nvar setFlexProp = function setFlexProp(element, prop, value) {\n  value = _style2.default.normalizeStyleProp(prop, value);\n  element.style[_style2.default.styleProp(prop)] = value;\n  if (!_window2.default.hasWindow()) {\n    if (\"\" === value || !(0, _type.isDefined)(value)) {\n      return;\n    }\n    var cssName = _inflector2.default.dasherize(prop);\n    var styleExpr = cssName + \": \" + value + \";\";\n    if (!element.attributes.style) {\n      element.setAttribute(\"style\", styleExpr);\n    } else {\n      if (element.attributes.style.value.indexOf(styleExpr) < 0) {\n        element.attributes.style.value += \" \" + styleExpr;\n      }\n    }\n  }\n};\nvar BOX_EVENTNAMESPACE = \"dxBox\";\nvar UPDATE_EVENT = \"dxupdate.\" + BOX_EVENTNAMESPACE;\nvar FALLBACK_BOX_ITEM = \"dx-box-fallback-item\";\nvar FALLBACK_WRAP_MAP = {\n  row: \"nowrap\",\n  col: \"normal\"\n};\nvar FALLBACK_MAIN_SIZE_MAP = {\n  row: \"width\",\n  col: \"height\"\n};\nvar FALLBACK_CROSS_SIZE_MAP = {\n  row: \"height\",\n  col: \"width\"\n};\nvar FALLBACK_PRE_MARGIN_MAP = {\n  row: \"marginLeft\",\n  col: \"marginTop\"\n};\nvar FALLBACK_POST_MARGIN_MAP = {\n  row: \"marginRight\",\n  col: \"marginBottom\"\n};\nvar FALLBACK_CROSS_PRE_MARGIN_MAP = {\n  row: \"marginTop\",\n  col: \"marginLeft\"\n};\nvar FALLBACK_CROSS_POST_MARGIN_MAP = {\n  row: \"marginBottom\",\n  col: \"marginRight\"\n};\nvar MARGINS_RTL_FLIP_MAP = {\n  marginLeft: \"marginRight\",\n  marginRight: \"marginLeft\"\n};\nvar BoxItem = function (_CollectionWidgetItem) {\n  _inherits(BoxItem, _CollectionWidgetItem);\n  function BoxItem() {\n    _classCallCheck(this, BoxItem);\n    return _possibleConstructorReturn(this, (BoxItem.__proto__ || Object.getPrototypeOf(BoxItem)).apply(this, arguments));\n  }\n  _createClass(BoxItem, [{\n    key: \"_renderVisible\",\n    value: function value(_value, oldValue) {\n      _get(BoxItem.prototype.__proto__ || Object.getPrototypeOf(BoxItem.prototype), \"_renderVisible\", this).call(this, _value);\n      if ((0, _type.isDefined)(oldValue)) {\n        this._options.fireItemStateChangedAction({\n          name: \"visible\",\n          state: _value,\n          oldState: oldValue\n        });\n      }\n    }\n  }]);\n  return BoxItem;\n}(_item2.default);\nvar FlexLayoutStrategy = function () {\n  function FlexLayoutStrategy($element, option) {\n    _classCallCheck(this, FlexLayoutStrategy);\n    this._$element = $element;\n    this._option = option;\n    this.initSize = _common.noop;\n    this.update = _common.noop;\n  }\n  _createClass(FlexLayoutStrategy, [{\n    key: \"renderBox\",\n    value: function value() {\n      this._$element.css({\n        display: _style2.default.stylePropPrefix(\"flexDirection\") + \"flex\"\n      });\n      setFlexProp(this._$element.get(0), \"flexDirection\", FLEX_DIRECTION_MAP[this._option(\"direction\")]);\n    }\n  }, {\n    key: \"renderAlign\",\n    value: function value() {\n      this._$element.css({\n        justifyContent: this._normalizedAlign()\n      });\n    }\n  }, {\n    key: \"_normalizedAlign\",\n    value: function value() {\n      var align = this._option(\"align\");\n      return align in FLEX_JUSTIFY_CONTENT_MAP ? FLEX_JUSTIFY_CONTENT_MAP[align] : align;\n    }\n  }, {\n    key: \"renderCrossAlign\",\n    value: function value() {\n      this._$element.css({\n        alignItems: this._normalizedCrossAlign()\n      });\n    }\n  }, {\n    key: \"_normalizedCrossAlign\",\n    value: function value() {\n      var crossAlign = this._option(\"crossAlign\");\n      return crossAlign in FLEX_ALIGN_ITEMS_MAP ? FLEX_ALIGN_ITEMS_MAP[crossAlign] : crossAlign;\n    }\n  }, {\n    key: \"renderItems\",\n    value: function value($items) {\n      var flexPropPrefix = _style2.default.stylePropPrefix(\"flexDirection\");\n      var direction = this._option(\"direction\");\n      (0, _iterator.each)($items, function () {\n        var $item = (0, _renderer2.default)(this);\n        var item = $item.data(BOX_ITEM_DATA_KEY);\n        $item.css({\n          display: flexPropPrefix + \"flex\"\n        }).css(MAXSIZE_MAP[direction], item.maxSize || \"none\").css(MINSIZE_MAP[direction], item.minSize || \"0\");\n        setFlexProp($item.get(0), \"flexBasis\", item.baseSize || 0);\n        setFlexProp($item.get(0), \"flexGrow\", item.ratio);\n        setFlexProp($item.get(0), \"flexShrink\", (0, _type.isDefined)(item.shrink) ? item.shrink : SHRINK);\n        $item.children().each(function (_, itemContent) {\n          (0, _renderer2.default)(itemContent).css({\n            width: \"auto\",\n            height: \"auto\",\n            display: _style2.default.stylePropPrefix(\"flexDirection\") + \"flex\",\n            flexBasis: 0\n          });\n          setFlexProp(itemContent, \"flexGrow\", 1);\n          setFlexProp(itemContent, \"flexDirection\", (0, _renderer2.default)(itemContent)[0].style.flexDirection || \"column\");\n        });\n      });\n    }\n  }]);\n  return FlexLayoutStrategy;\n}();\nvar FallbackLayoutStrategy = function () {\n  function FallbackLayoutStrategy($element, option) {\n    _classCallCheck(this, FallbackLayoutStrategy);\n    this._$element = $element;\n    this._option = option;\n  }\n  _createClass(FallbackLayoutStrategy, [{\n    key: \"renderBox\",\n    value: function value() {\n      this._$element.css({\n        fontSize: 0,\n        whiteSpace: FALLBACK_WRAP_MAP[this._option(\"direction\")],\n        verticalAlign: \"top\"\n      });\n      _events_engine2.default.off(this._$element, UPDATE_EVENT);\n      _events_engine2.default.on(this._$element, UPDATE_EVENT, this.update.bind(this));\n    }\n  }, {\n    key: \"renderAlign\",\n    value: function value() {\n      var $items = this._$items;\n      if (!$items) {\n        return;\n      }\n      var align = this._option(\"align\");\n      var totalItemSize = this.totalItemSize;\n      var direction = this._option(\"direction\");\n      var boxSize = this._$element[FALLBACK_MAIN_SIZE_MAP[direction]]();\n      var freeSpace = boxSize - totalItemSize;\n      var shift = 0;\n      this._setItemsMargins($items, direction, 0);\n      switch (align) {\n        case \"start\":\n          break;\n        case \"end\":\n          shift = freeSpace;\n          $items.first().css(this._chooseMarginSide(FALLBACK_PRE_MARGIN_MAP[direction]), shift);\n          break;\n        case \"center\":\n          shift = .5 * freeSpace;\n          $items.first().css(this._chooseMarginSide(FALLBACK_PRE_MARGIN_MAP[direction]), shift);\n          $items.last().css(this._chooseMarginSide(FALLBACK_POST_MARGIN_MAP[direction]), shift);\n          break;\n        case \"space-between\":\n          shift = .5 * freeSpace / ($items.length - 1);\n          this._setItemsMargins($items, direction, shift);\n          $items.first().css(this._chooseMarginSide(FALLBACK_PRE_MARGIN_MAP[direction]), 0);\n          $items.last().css(this._chooseMarginSide(FALLBACK_POST_MARGIN_MAP[direction]), 0);\n          break;\n        case \"space-around\":\n          shift = .5 * freeSpace / $items.length;\n          this._setItemsMargins($items, direction, shift);\n      }\n    }\n  }, {\n    key: \"_setItemsMargins\",\n    value: function value($items, direction, shift) {\n      $items.css(this._chooseMarginSide(FALLBACK_PRE_MARGIN_MAP[direction]), shift).css(this._chooseMarginSide(FALLBACK_POST_MARGIN_MAP[direction]), shift);\n    }\n  }, {\n    key: \"renderCrossAlign\",\n    value: function value() {\n      var $items = this._$items;\n      if (!$items) {\n        return;\n      }\n      var crossAlign = this._option(\"crossAlign\");\n      var direction = this._option(\"direction\");\n      var size = this._$element[FALLBACK_CROSS_SIZE_MAP[direction]]();\n      var that = this;\n      switch (crossAlign) {\n        case \"start\":\n          break;\n        case \"end\":\n          (0, _iterator.each)($items, function () {\n            var $item = (0, _renderer2.default)(this),\n              itemSize = $item[FALLBACK_CROSS_SIZE_MAP[direction]](),\n              shift = size - itemSize;\n            $item.css(that._chooseMarginSide(FALLBACK_CROSS_PRE_MARGIN_MAP[direction]), shift);\n          });\n          break;\n        case \"center\":\n          (0, _iterator.each)($items, function () {\n            var $item = (0, _renderer2.default)(this),\n              itemSize = $item[FALLBACK_CROSS_SIZE_MAP[direction]](),\n              shift = .5 * (size - itemSize);\n            $item.css(that._chooseMarginSide(FALLBACK_CROSS_PRE_MARGIN_MAP[direction]), shift).css(that._chooseMarginSide(FALLBACK_CROSS_POST_MARGIN_MAP[direction]), shift);\n          });\n          break;\n        case \"stretch\":\n          $items.css(that._chooseMarginSide(FALLBACK_CROSS_PRE_MARGIN_MAP[direction]), 0).css(that._chooseMarginSide(FALLBACK_CROSS_POST_MARGIN_MAP[direction]), 0).css(FALLBACK_CROSS_SIZE_MAP[direction], \"100%\");\n      }\n    }\n  }, {\n    key: \"_chooseMarginSide\",\n    value: function value(_value2) {\n      if (!this._option(\"rtlEnabled\")) {\n        return _value2;\n      }\n      return MARGINS_RTL_FLIP_MAP[_value2] || _value2;\n    }\n  }, {\n    key: \"renderItems\",\n    value: function value($items) {\n      var _this2 = this;\n      this._$items = $items;\n      var direction = this._option(\"direction\");\n      var totalRatio = 0;\n      var totalWeightedShrink = 0;\n      var totalBaseSize = 0;\n      (0, _iterator.each)($items, function (_, item) {\n        var $item = (0, _renderer2.default)(item);\n        $item.css({\n          display: \"inline-block\",\n          verticalAlign: \"top\"\n        });\n        $item[FALLBACK_MAIN_SIZE_MAP[direction]](\"auto\");\n        $item.removeClass(FALLBACK_BOX_ITEM);\n        var itemData = $item.data(BOX_ITEM_DATA_KEY);\n        var ratio = itemData.ratio || 0;\n        var size = _this2._baseSize($item);\n        var shrink = (0, _type.isDefined)(itemData.shrink) ? itemData.shrink : SHRINK;\n        totalRatio += ratio;\n        totalWeightedShrink += shrink * size;\n        totalBaseSize += size;\n      });\n      var freeSpaceSize = this._boxSize() - totalBaseSize;\n      var itemSize = function itemSize($item) {\n        var itemData = $item.data(BOX_ITEM_DATA_KEY),\n          size = _this2._baseSize($item),\n          factor = freeSpaceSize >= 0 ? itemData.ratio || 0 : ((0, _type.isDefined)(itemData.shrink) ? itemData.shrink : SHRINK) * size,\n          totalFactor = freeSpaceSize >= 0 ? totalRatio : totalWeightedShrink,\n          shift = totalFactor ? Math.round(freeSpaceSize * factor / totalFactor) : 0;\n        return size + shift;\n      };\n      var totalItemSize = 0;\n      (0, _iterator.each)($items, function (_, item) {\n        var $item = (0, _renderer2.default)(item);\n        var itemData = (0, _renderer2.default)(item).data(BOX_ITEM_DATA_KEY);\n        var size = itemSize($item);\n        totalItemSize += size;\n        $item.css(MAXSIZE_MAP[direction], itemData.maxSize || \"none\").css(MINSIZE_MAP[direction], itemData.minSize || \"0\").css(FALLBACK_MAIN_SIZE_MAP[direction], size);\n        $item.addClass(FALLBACK_BOX_ITEM);\n      });\n      this.totalItemSize = totalItemSize;\n    }\n  }, {\n    key: \"_baseSize\",\n    value: function value(item) {\n      var itemData = (0, _renderer2.default)(item).data(BOX_ITEM_DATA_KEY);\n      return null == itemData.baseSize ? 0 : \"auto\" === itemData.baseSize ? this._contentSize(item) : this._parseSize(itemData.baseSize);\n    }\n  }, {\n    key: \"_contentSize\",\n    value: function value(item) {\n      return (0, _renderer2.default)(item)[FALLBACK_MAIN_SIZE_MAP[this._option(\"direction\")]]();\n    }\n  }, {\n    key: \"_parseSize\",\n    value: function value(size) {\n      return String(size).match(/.+%$/) ? .01 * parseFloat(size) * this._boxSizeValue : size;\n    }\n  }, {\n    key: \"_boxSize\",\n    value: function value(_value3) {\n      if (!arguments.length) {\n        this._boxSizeValue = this._boxSizeValue || this._totalBaseSize();\n        return this._boxSizeValue;\n      }\n      this._boxSizeValue = _value3;\n    }\n  }, {\n    key: \"_totalBaseSize\",\n    value: function value() {\n      var _this3 = this;\n      var result = 0;\n      (0, _iterator.each)(this._$items, function (_, item) {\n        result += _this3._baseSize(item);\n      });\n      return result;\n    }\n  }, {\n    key: \"initSize\",\n    value: function value() {\n      this._boxSize(this._$element[FALLBACK_MAIN_SIZE_MAP[this._option(\"direction\")]]());\n    }\n  }, {\n    key: \"update\",\n    value: function value() {\n      if (!this._$items || this._$element.is(\":hidden\")) {\n        return;\n      }\n      this._$items.detach();\n      this.initSize();\n      this._$element.append(this._$items);\n      this.renderItems(this._$items);\n      this.renderAlign();\n      this.renderCrossAlign();\n      var element = this._$element.get(0);\n      this._$items.find(BOX_SELECTOR).each(function () {\n        if (element === (0, _renderer2.default)(this).parent().closest(BOX_SELECTOR).get(0)) {\n          _events_engine2.default.triggerHandler(this, UPDATE_EVENT);\n        }\n      });\n    }\n  }]);\n  return FallbackLayoutStrategy;\n}();\nvar Box = function (_CollectionWidget) {\n  _inherits(Box, _CollectionWidget);\n  function Box() {\n    _classCallCheck(this, Box);\n    return _possibleConstructorReturn(this, (Box.__proto__ || Object.getPrototypeOf(Box)).apply(this, arguments));\n  }\n  _createClass(Box, [{\n    key: \"_getDefaultOptions\",\n    value: function value() {\n      return (0, _extend.extend)(_get(Box.prototype.__proto__ || Object.getPrototypeOf(Box.prototype), \"_getDefaultOptions\", this).call(this), {\n        direction: \"row\",\n        align: \"start\",\n        crossAlign: \"stretch\",\n        activeStateEnabled: false,\n        focusStateEnabled: false,\n        onItemStateChanged: void 0,\n        _layoutStrategy: \"flex\",\n        _queue: void 0\n      });\n    }\n  }, {\n    key: \"_defaultOptionsRules\",\n    value: function value() {\n      return _get(Box.prototype.__proto__ || Object.getPrototypeOf(Box.prototype), \"_defaultOptionsRules\", this).call(this).concat([{\n        device: function device() {\n          return _browser2.default.msie;\n        },\n        options: {\n          _layoutStrategy: \"fallback\"\n        }\n      }]);\n    }\n  }, {\n    key: \"_itemClass\",\n    value: function value() {\n      return BOX_ITEM_CLASS;\n    }\n  }, {\n    key: \"_itemDataKey\",\n    value: function value() {\n      return BOX_ITEM_DATA_KEY;\n    }\n  }, {\n    key: \"_itemElements\",\n    value: function value() {\n      return this._itemContainer().children(this._itemSelector());\n    }\n  }, {\n    key: \"_init\",\n    value: function value() {\n      _get(Box.prototype.__proto__ || Object.getPrototypeOf(Box.prototype), \"_init\", this).call(this);\n      this.$element().addClass(BOX_CLASS + \"-\" + this.option(\"_layoutStrategy\"));\n      this._initLayout();\n      this._initBoxQueue();\n    }\n  }, {\n    key: \"_initLayout\",\n    value: function value() {\n      this._layout = \"fallback\" === this.option(\"_layoutStrategy\") ? new FallbackLayoutStrategy(this.$element(), this.option.bind(this)) : new FlexLayoutStrategy(this.$element(), this.option.bind(this));\n    }\n  }, {\n    key: \"_initBoxQueue\",\n    value: function value() {\n      this._queue = this.option(\"_queue\") || [];\n    }\n  }, {\n    key: \"_queueIsNotEmpty\",\n    value: function value() {\n      return this.option(\"_queue\") ? false : !!this._queue.length;\n    }\n  }, {\n    key: \"_pushItemToQueue\",\n    value: function value($item, config) {\n      this._queue.push({\n        $item: $item,\n        config: config\n      });\n    }\n  }, {\n    key: \"_shiftItemFromQueue\",\n    value: function value() {\n      return this._queue.shift();\n    }\n  }, {\n    key: \"_initMarkup\",\n    value: function value() {\n      this.$element().addClass(BOX_CLASS);\n      this._layout.renderBox();\n      _get(Box.prototype.__proto__ || Object.getPrototypeOf(Box.prototype), \"_initMarkup\", this).call(this);\n      this._renderAlign();\n      this._renderActions();\n    }\n  }, {\n    key: \"_renderActions\",\n    value: function value() {\n      this._onItemStateChanged = this._createActionByOption(\"onItemStateChanged\");\n    }\n  }, {\n    key: \"_renderAlign\",\n    value: function value() {\n      this._layout.renderAlign();\n      this._layout.renderCrossAlign();\n    }\n  }, {\n    key: \"_renderItems\",\n    value: function value(items) {\n      var _this5 = this;\n      this._layout.initSize();\n      _get(Box.prototype.__proto__ || Object.getPrototypeOf(Box.prototype), \"_renderItems\", this).call(this, items);\n      while (this._queueIsNotEmpty()) {\n        var item = this._shiftItemFromQueue();\n        this._createComponent(item.$item, Box, (0, _extend.extend)({\n          _layoutStrategy: this.option(\"_layoutStrategy\"),\n          itemTemplate: this.option(\"itemTemplate\"),\n          itemHoldTimeout: this.option(\"itemHoldTimeout\"),\n          onItemHold: this.option(\"onItemHold\"),\n          onItemClick: this.option(\"onItemClick\"),\n          onItemContextMenu: this.option(\"onItemContextMenu\"),\n          onItemRendered: this.option(\"onItemRendered\"),\n          _queue: this._queue\n        }, item.config));\n      }\n      this._layout.renderItems(this._itemElements());\n      clearTimeout(this._updateTimer);\n      this._updateTimer = setTimeout(function () {\n        if (!_this5._isUpdated) {\n          _this5._layout.update();\n        }\n        _this5._isUpdated = false;\n        _this5._updateTimer = null;\n      });\n    }\n  }, {\n    key: \"_renderItemContent\",\n    value: function value(args) {\n      var $itemNode = args.itemData && args.itemData.node;\n      if ($itemNode) {\n        return this._renderItemContentByNode(args, $itemNode);\n      }\n      return _get(Box.prototype.__proto__ || Object.getPrototypeOf(Box.prototype), \"_renderItemContent\", this).call(this, args);\n    }\n  }, {\n    key: \"_postprocessRenderItem\",\n    value: function value(args) {\n      var boxConfig = args.itemData.box;\n      if (!boxConfig) {\n        return;\n      }\n      this._pushItemToQueue(args.itemContent, boxConfig);\n    }\n  }, {\n    key: \"_createItemByTemplate\",\n    value: function value(itemTemplate, args) {\n      if (args.itemData.box) {\n        return itemTemplate.source ? itemTemplate.source() : (0, _renderer2.default)();\n      }\n      return _get(Box.prototype.__proto__ || Object.getPrototypeOf(Box.prototype), \"_createItemByTemplate\", this).call(this, itemTemplate, args);\n    }\n  }, {\n    key: \"_visibilityChanged\",\n    value: function value(visible) {\n      if (visible) {\n        this._dimensionChanged();\n      }\n    }\n  }, {\n    key: \"_dimensionChanged\",\n    value: function value() {\n      if (this._updateTimer) {\n        return;\n      }\n      this._isUpdated = true;\n      this._layout.update();\n    }\n  }, {\n    key: \"_dispose\",\n    value: function value() {\n      clearTimeout(this._updateTimer);\n      _get(Box.prototype.__proto__ || Object.getPrototypeOf(Box.prototype), \"_dispose\", this).apply(this, arguments);\n    }\n  }, {\n    key: \"_itemOptionChanged\",\n    value: function value(item, property, _value4, oldValue) {\n      if (\"visible\" === property) {\n        this._onItemStateChanged({\n          name: property,\n          state: _value4,\n          oldState: false !== oldValue\n        });\n      }\n      _get(Box.prototype.__proto__ || Object.getPrototypeOf(Box.prototype), \"_itemOptionChanged\", this).call(this, item, property, _value4);\n    }\n  }, {\n    key: \"_optionChanged\",\n    value: function value(args) {\n      switch (args.name) {\n        case \"_layoutStrategy\":\n        case \"_queue\":\n        case \"direction\":\n          this._invalidate();\n          break;\n        case \"align\":\n          this._layout.renderAlign();\n          break;\n        case \"crossAlign\":\n          this._layout.renderCrossAlign();\n          break;\n        default:\n          _get(Box.prototype.__proto__ || Object.getPrototypeOf(Box.prototype), \"_optionChanged\", this).call(this, args);\n      }\n    }\n  }, {\n    key: \"_itemOptions\",\n    value: function value() {\n      var _this6 = this;\n      var options = _get(Box.prototype.__proto__ || Object.getPrototypeOf(Box.prototype), \"_itemOptions\", this).call(this);\n      options.fireItemStateChangedAction = function (e) {\n        _this6._onItemStateChanged(e);\n      };\n      return options;\n    }\n  }, {\n    key: \"repaint\",\n    value: function value() {\n      this._dimensionChanged();\n    }\n  }]);\n  return Box;\n}(_uiCollection_widget2.default);\nBox.ItemClass = BoxItem;\n(0, _component_registrator2.default)(\"dxBox\", Box);\nmodule.exports = Box;\nmodule.exports.default = module.exports;","map":null,"metadata":{},"sourceType":"script"}