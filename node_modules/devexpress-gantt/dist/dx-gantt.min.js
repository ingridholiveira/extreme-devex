/*!
 * DevExpress Gantt (dx-gantt.min)
 * Version: 0.0.18
 * Build date: Tue Sep 24 2019
 * 
 * Copyright (c) 2012 - 2019 Developer Express Inc. ALL RIGHTS RESERVED
 * Read about DevExpress licensing here: https://www.devexpress.com/Support/EULAs
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Gantt=e():(t.DevExpress=t.DevExpress||{},t.DevExpress.Gantt=e())}(window,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=32)}([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var JsonUtils=function(){function JsonUtils(){}return JsonUtils.isExists=function(t){return void 0!==t&&null!=t},JsonUtils.isValidJson=function(t){return!/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(t.replace(/"(\\.|[^"\\])*"/g,""))},JsonUtils.evalJson=function(json){return JsonUtils.isValidJson(json)?eval("("+json+")"):null},JsonUtils}();exports.JsonUtils=JsonUtils},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(22),i=n(23),r=n(0),s=n(13),a=n(24),c=function(){function t(){}return t.compareDates=function(t,e){return t&&e?e.getTime()-t.getTime():-1},t.areDatesEqual=function(t,e){return 0==this.compareDates(t,e)},t.getMaxDate=function(t,e){return t||e?t?e&&this.compareDates(t,e)>0?e:t:e:null},t.getMinDate=function(t,e){return t||e?t?e?this.compareDates(t,e)>0?t:e:t:e:null},t.getDaysBetween=function(t,e){var n=Math.abs(e.getTime()-t.getTime());return Math.ceil(n/this.msInDay)},t.getWeeksBetween=function(t,e){var n=this.getDaysBetween(t,e),o=Math.floor(n/7);return t.getDay()>e.getDay()&&o++,o},t.getMonthsDifference=function(t,e){var n=this.compareDates(t,e),o=n>=0?t:e,i=n>=0?e:t;return 12*(i.getFullYear()-o.getFullYear())+(i.getMonth()-o.getMonth())},t.getYearsDifference=function(t,e){return Math.abs(e.getFullYear()-t.getFullYear())},t.getDayNumber=function(t){return Math.ceil(t.getTime()/this.msInDay)},t.getDateByDayNumber=function(t){var e=new Date(t*this.msInDay);return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e},t.addDays=function(t,e){return new Date(t.getTime()+e*this.msInDay)},t.checkDayOfMonth=function(t,e){return t==e.getDate()},t.checkDayOfWeek=function(t,e){return t==e.getDay()},t.checkMonth=function(t,e){return t==e.getMonth()},t.checkYear=function(t,e){return t==e.getFullYear()},t.checkDayOfWeekOccurrenceInMonth=function(t,e,n){var o=this.getSpecificDayOfWeekInMonthDates(e,t.getFullYear(),t.getMonth());return n==a.DayOfWeekMonthlyOccurrence.Last?this.areDatesEqual(t,o[o.length-1]):this.areDatesEqual(t,o[n])},t.getFirstDayOfWeekInMonth=function(t,e){return new Date(t,e,1).getDay()},t.getSpecificDayOfWeekInMonthDates=function(t,e,n){for(var o=this.getFirstDayOfWeekInMonth(e,n),i=t>=o?t-o:t+7-o,r=new Array,s=new Date(e,n,i+1);s.getMonth()==n;)r.push(s),s=this.addDays(s,7);return r},t.getSpecificDayOfWeekInMonthDate=function(t,e,n,o){var i=this.getSpecificDayOfWeekInMonthDates(t,e,n);return o==a.DayOfWeekMonthlyOccurrence.Last?i[i.length-1]:i[o]},t.checkValidDayInMonth=function(t,e,n){return!(n<1||n>31||new Date(t,e,n).getMonth()!=e)},t.getNextMonth=function(t,e){return void 0===e&&(e=1),(t+e)%12},t.convertToDate=function(t){if(t instanceof Date)return new Date(t);var e=Date.parse(t);return isNaN(e)?null:new Date(e)},t.convertTimeRangeToDateRange=function(t,e){var n=this.getDateByDayNumber(e),o=n.getFullYear(),i=n.getMonth(),r=n.getDate(),a=t.start,c=new Date(o,i,r,a.hour,a.min,a.sec,a.msec),u=t.end,l=new Date(o,i,r,u.hour,u.min,u.sec,u.msec);return new s.DateRange(c,l)},t.convertToTimeRanges=function(t){var e=this;return t instanceof Array?t.map((function(t){return e.convertToTimeRange(t)})):this.parseTimeRanges(t)},t.convertToTimeRange=function(t){return t?t instanceof i.TimeRange?t:r.JsonUtils.isExists(t.start)&&r.JsonUtils.isExists(t.end)?new i.TimeRange(this.convertToTime(t.start),this.convertToTime(t.end)):this.parseTimeRange(t):null},t.convertToTime=function(t){return t?t instanceof o.Time?t:t instanceof Date?this.getTimeGromJsDate(t):this.parseTime(t):null},t.parseTimeRanges=function(t){var e=this;return t?t.split(/;|,/).map((function(t){return e.parseTimeRange(t)})).filter((function(t){return!!t})):null},t.parseTimeRange=function(t){if(!t)return null;var e=t.split("-"),n=e[0],o=e[1];return r.JsonUtils.isExists(n)&&r.JsonUtils.isExists(o)?new i.TimeRange(this.parseTime(n),this.parseTime(o)):null},t.parseTime=function(t){if(!t)return null;var e=t.split(":"),n=parseInt(e[0])||0,i=parseInt(e[1])||0,r=parseInt(e[2])||0,s=parseInt(e[3])||0;return new o.Time(n,i,r,s)},t.getTimeGromJsDate=function(t){if(!t)return null;var e=t.getHours(),n=t.getMinutes(),i=t.getSeconds(),r=t.getMilliseconds();return new o.Time(e,n,i,r)},t.caclTimeDifference=function(t,e){return e.getTimeInMilleconds()-t.getTimeInMilleconds()},t.areTimesEqual=function(t,e){return 0==this.caclTimeDifference(t,e)},t.getMaxTime=function(t,e){return t||e?t?e&&this.caclTimeDifference(t,e)>0?e:t:e:null},t.getMinTime=function(t,e){return t||e?t?e?this.caclTimeDifference(t,e)>0?t:e:t:e:null},t.getLastTimeOfDay=function(){return new o.Time(23,59,59,999)},t.msInDay=864e5,t}();e.DateTimeUtils=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(28),i=function(){function t(){}return t.clientEventRequiresDocScrollCorrection=function(){var t=o.Browser.Safari&&o.Browser.Version<3,e=o.Browser.MacOSMobilePlatform&&o.Browser.Version<5.1;return o.Browser.AndroidDefaultBrowser||o.Browser.AndroidChromeBrowser||!(t||e)},t.getEventX=function(t){return t.clientX+(this.clientEventRequiresDocScrollCorrection()?this.getDocumentScrollLeft():0)},t.getEventY=function(t){return t.clientY+(this.clientEventRequiresDocScrollCorrection()?this.getDocumentScrollTop():0)},t.getEventSource=function(t){return t.srcElement?t.srcElement:t.target},t.GetKeyCode=function(t){return o.Browser.NetscapeFamily||o.Browser.Opera?t.which:t.keyCode},t.GetIsParent=function(t,e){if(!t||!e)return!1;for(;e;){if(e===t)return!0;if("BODY"===e.tagName)return!1;e=e.parentNode}return!1},t.getCurrentStyle=function(t){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):window.getComputedStyle(t,null)},t.getTopPaddings=function(t){var e=this.getCurrentStyle(t);return this.pxToInt(e.paddingTop)},t.getVerticalBordersWidth=function(t){var e=window.getComputedStyle?window.getComputedStyle(t):this.getCurrentStyle(t),n=0;return"none"!=e.borderTopStyle&&(n+=this.pxToFloat(e.borderTopWidth)),"none"!=e.borderBottomStyle&&(n+=this.pxToFloat(e.borderBottomWidth)),n},t.getHorizontalBordersWidth=function(t){var e=window.getComputedStyle?window.getComputedStyle(t):this.getCurrentStyle(t),n=0;return"none"!=e.borderLeftStyle&&(n+=this.pxToFloat(e.borderLeftWidth)),"none"!=e.borderRightStyle&&(n+=this.pxToFloat(e.borderRightWidth)),n},t.pxToInt=function(t){return this.pxToNumber(t,parseInt)},t.pxToFloat=function(t){return this.pxToNumber(t,parseFloat)},t.pxToNumber=function(t,e){var n=0;if(null!=t&&""!=t)try{var o=t.indexOf("px");o>-1&&(n=e(t.substr(0,o)))}catch(t){}return n},t.getDocumentScrollTop=function(){var t=o.Browser.IE&&"hidden"==this.getCurrentStyle(document.body).overflow&&document.body.scrollTop>0;return o.Browser.WebKitFamily||o.Browser.Edge||t?o.Browser.MacOSMobilePlatform?window.pageYOffset:o.Browser.WebKitFamily&&document.documentElement.scrollTop||document.body.scrollTop:document.documentElement.scrollTop},t.getDocumentScrollLeft=function(){var t=o.Browser.IE&&"hidden"==this.getCurrentStyle(document.body).overflow&&document.body.scrollLeft>0;return o.Browser.Edge||t?document.body?document.body.scrollLeft:document.documentElement.scrollLeft:o.Browser.WebKitFamily?document.documentElement.scrollLeft||document.body.scrollLeft:document.documentElement.scrollLeft},t.getAbsolutePositionY=function(t){return o.Browser.IE?this.getAbsolutePositionY_IE(t):o.Browser.Firefox&&o.Browser.Version>=3?this.getAbsolutePositionY_FF3(t):o.Browser.Opera?this.getAbsolutePositionY_Opera(t):o.Browser.NetscapeFamily&&(!o.Browser.Firefox||o.Browser.Version<3)?this.getAbsolutePositionY_NS(t):o.Browser.WebKitFamily||o.Browser.Edge?this.getAbsolutePositionY_FF3(t):this.getAbsolutePositionY_Other(t)},t.getAbsolutePositionY_Opera=function(t){var e=!0;t&&"TR"==t.tagName&&t.cells.length>0&&(t=t.cells[0]);for(var n=this.getAbsoluteScrollOffset_OperaFF(t,!1);null!=t;)n+=t.offsetTop,e||(n-=t.scrollTop),t=t.offsetParent,e=!1;return n+=document.body.scrollTop},t.getAbsolutePositionY_IE=function(t){return null==t||o.Browser.IE&&null==t.parentNode?0:t.getBoundingClientRect().top+this.getDocumentScrollTop()},t.getAbsolutePositionY_FF3=function(t){if(null==t)return 0;var e=t.getBoundingClientRect().top+this.getDocumentScrollTop();return Math.round(e)},t.getAbsolutePositionY_NS=function(t){for(var e=this.getAbsoluteScrollOffset_OperaFF(t,!1),n=!0;null!=t;){if(e+=t.offsetTop,n||null==t.offsetParent||(e-=t.scrollTop),!n&&o.Browser.Firefox){var i=this.getCurrentStyle(t);"DIV"==t.tagName&&"visible"!=i.overflow&&(e+=this.pxToInt(i.borderTopWidth))}n=!1,t=t.offsetParent}return e},t.getAbsolutePositionY_Other=function(t){for(var e=0,n=!0;null!=t;)e+=t.offsetTop,n||null==t.offsetParent||(e-=t.scrollTop),n=!1,t=t.offsetParent;return e},t.getAbsoluteScrollOffset_OperaFF=function(t,e){for(var n=0,o=!0;null!=t&&"BODY"!=t.tagName;){var i=this.getCurrentStyle(t);if("absolute"==i.position)break;o||"DIV"!=t.tagName||""!=i.position&&"static"!=i.position||(n-=e?t.scrollLeft:t.scrollTop),t=t.parentNode,o=!1}return n},t.getAbsolutePositionX=function(t){return o.Browser.IE?this.getAbsolutePositionX_IE(t):o.Browser.Firefox&&o.Browser.Version>=3?this.getAbsolutePositionX_FF3(t):o.Browser.Opera?this.getAbsolutePositionX_Opera(t):o.Browser.NetscapeFamily&&(!o.Browser.Firefox||o.Browser.Version<3)?this.getAbsolutePositionX_NS(t):o.Browser.WebKitFamily||o.Browser.Edge?this.getAbsolutePositionX_FF3(t):this.getAbsolutePositionX_Other(t)},t.getAbsolutePositionX_Opera=function(t){for(var e=!0,n=this.getAbsoluteScrollOffset_OperaFF(t,!0);null!=t;)n+=t.offsetLeft,e||(n-=t.scrollLeft),t=t.offsetParent,e=!1;return n+=document.body.scrollLeft},t.getAbsolutePositionX_IE=function(t){return null==t||o.Browser.IE&&null==t.parentNode?0:t.getBoundingClientRect().left+this.getDocumentScrollLeft()},t.getAbsolutePositionX_FF3=function(t){if(null==t)return 0;var e=t.getBoundingClientRect().left+this.getDocumentScrollLeft();return Math.round(e)},t.getAbsolutePositionX_NS=function(t){for(var e=this.getAbsoluteScrollOffset_OperaFF(t,!0),n=!0;null!=t;){if(e+=t.offsetLeft,n||null==t.offsetParent||(e-=t.scrollLeft),!n&&o.Browser.Firefox){var i=this.getCurrentStyle(t);"DIV"==t.tagName&&"visible"!=i.overflow&&(e+=this.pxToInt(i.borderLeftWidth))}n=!1,t=t.offsetParent}return e},t.getAbsolutePositionX_Other=function(t){for(var e=0,n=!0;null!=t;)e+=t.offsetLeft,n||null==t.offsetParent||(e-=t.scrollLeft),n=!1,t=t.offsetParent;return e},t}();e.DomUtils=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){this.x=null,this.y=null,void 0!==t&&(this.x=t),void 0!==e&&(this.y=e)};e.Point=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(){function t(){this.internalId=this.generateId()}return t.prototype.assignFromObject=function(t){o.JsonUtils.isExists(t)&&o.JsonUtils.isExists(t.id)&&(this.id=String(t.id),this.internalId=String(t.id))},t.prototype.generateId=function(){return"id"+Math.floor(1e4*Math.random())},t}();e.DataObject=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(){function t(){this._items=new Array,this._isGanttCollection=!0}return t.prototype.add=function(t){if(o.JsonUtils.isExists(t)){if(this.getItemById(t.internalId))throw"The collection item with id ='"+t.internalId+"' already exists.";this._items.push(t)}},t.prototype.addRange=function(t){for(var e=0;e<t.length;e++)this.add(t[e])},t.prototype.remove=function(t){var e=this._items.indexOf(t);e>-1&&e<this._items.length&&this._items.splice(e,1)},t.prototype.clear=function(){this._items.splice(0,this._items.length)},Object.defineProperty(t.prototype,"items",{get:function(){return this._items.slice()},set:function(t){t&&(this._items=t.slice())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),t.prototype.getItem=function(t){return t>-1&&t<this._items.length?this._items[t]:null},t.prototype.getItemById=function(t){return this._items.filter((function(e){return e.internalId===t}))[0]},t.prototype.getItemByPublicId=function(t){return this._items.filter((function(e){return e.id===t||e.id.toString()===t}))[0]},t.prototype.assign=function(t){o.JsonUtils.isExists(t)&&(this.items=t.items)},t.prototype.importFromObject=function(t){o.JsonUtils.isExists(t)&&(this.clear(),t._isGanttCollection?this.assign(t):t instanceof Array?this.importFromArray(t):this.createItemFromObjectAndAdd(t))},t.prototype.createItemFromObjectAndAdd=function(t){if(o.JsonUtils.isExists(t)){var e=this.createItem();e.assignFromObject(t),this.add(e)}},t.prototype.importFromArray=function(t){for(var e=0;e<t.length;e++)this.createItemFromObjectAndAdd(t[e])},t.prototype.importFromJSON=function(t){this.importFromObject(o.JsonUtils.evalJson(t))},t}();e.CollectionBase=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n(3);!function(t){t[t.TaskArea=0]="TaskArea",t[t.TaskEdit_Frame=1]="TaskEdit_Frame",t[t.TaskEdit_Progress=2]="TaskEdit_Progress",t[t.TaskEdit_Start=3]="TaskEdit_Start",t[t.TaskEdit_End=4]="TaskEdit_End",t[t.TaskEdit_DependencyStart=5]="TaskEdit_DependencyStart",t[t.TaskEdit_DependencyFinish=6]="TaskEdit_DependencyFinish",t[t.Successor_Wrapper=7]="Successor_Wrapper",t[t.Successor_DependencyStart=8]="Successor_DependencyStart",t[t.Successor_DependencyFinish=9]="Successor_DependencyFinish"}(e.MouseEventSource||(e.MouseEventSource={}));var r=function(){function t(t){this.ganttView=t,this.eventManager=t.eventManager,this.mousePosition=new i.Point(-1,-1),this.initMouseEvents()}return t.prototype.initMouseEvents=function(){var t=this;this.ganttView.taskArea.addEventListener("click",(function(e){t.onTaskAreaClick(e)})),this.ganttView.taskArea.addEventListener("scroll",this.ganttView.updateView.bind(this.ganttView)),this.ganttView.taskArea.addEventListener("mousedown",(function(e){t.onMouseDown(e)})),this.ganttView.taskArea.addEventListener("mousewheel",(function(e){t.onMouseWheel(e)})),document.addEventListener("mousemove",(function(e){t.onDocumentMouseMove(e)})),document.addEventListener("mouseup",(function(e){t.onDocumentMouseUp(e)})),document.addEventListener("keydown",(function(e){t.onDocumentKeyDown(e)}))},t.prototype.onMouseDown=function(t){this.eventManager.onMouseDown(t),this.preventSelect=!1,this.mousePosition=new i.Point(t.clientX,t.clientY)},t.prototype.onDocumentMouseUp=function(t){this.eventManager.onMouseUp(t)},t.prototype.onDocumentMouseMove=function(t){this.mousePosition.x==t.clientX&&this.mousePosition.y==t.clientY||(this.eventManager.onMouseMove(t),this.preventSelect=!0)},t.prototype.onMouseWheel=function(t){this.eventManager.onMouseWheel(t)},t.prototype.onDocumentKeyDown=function(t){this.eventManager.onKeyDown(t)},t.prototype.onTaskAreaClick=function(e){if(!this.preventSelect){var n=new Date(Date.now()),o=this.getClickedTaskIndex(e);if(this.ganttView.settings.allowSelectTask){var i=this.ganttView.viewModel.tasks.items[o].internalId;this.ganttView.unselectCurrentSelectedTask(),this.ganttView.selectTask(i),this.ganttView.ganttOwner.changeGanttTaskSelection(i,!0)}if(this.time&&n.getTime()-this.time.getTime()<t.DBLCLICK_INTERVAL){var r=this.ganttView.viewModel.tasks.items[o];this.ganttView.commandManager.showTaskEditDialog.execute(r)}this.time=n}},t.prototype.getClickedTaskIndex=function(t){var e=o.DomUtils.getEventY(t)-o.DomUtils.getAbsolutePositionY(this.ganttView.taskArea);return Math.floor(e/this.ganttView.tickSize.height)},t.DBLCLICK_INTERVAL=300,t}();e.TaskAreaManager=r},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){this.modelManipulator=t};e.HistoryItem=r;var s=function(t){function e(){var e=t.call(this,null)||this;return e.historyItems=[],e}return i(e,t),e.prototype.redo=function(){for(var t,e=0;t=this.historyItems[e];e++)t.redo()},e.prototype.undo=function(){for(var t,e=this.historyItems.length-1;t=this.historyItems[e];e--)t.undo()},e.prototype.add=function(t){if(null==t)throw new Error("Can't add null HistoryItem");this.historyItems.push(t)},e}(r);e.CompositionHistoryItem=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.control=t}return Object.defineProperty(t.prototype,"modelManipulator",{get:function(){return this.control.modelManipulator},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"history",{get:function(){return this.control.history},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state||(this._state=this.getState()),this._state},enumerable:!0,configurable:!0}),t.prototype.execute=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return!!this.state.enabled&&this.executeInternal.apply(this,t)},t.prototype.isEnabled=function(){return this.control.settings.editing.enabled},t.prototype.executeInternal=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];throw new Error("Not implemented")},t}();e.CommandBase=o;var i=function(t,e){this.enabled=t,this.value=e};e.SimpleCommandState=i},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),s=n(47),a=n(24),c=n(48),u=n(0),l=n(1),h=n(25),p=function(t){function e(e,n,o,i){void 0===e&&(e=null),void 0===n&&(n=null),void 0===o&&(o=1),void 0===i&&(i=0);var r=t.call(this)||this;return r._start=null,r._end=null,r._interval=1,r._occurrenceCount=0,r._dayOfWeek=0,r._day=1,r._dayOfWeekOccurrence=0,r._month=0,r._calculateByDayOfWeek=!1,r.start=e,r.end=n,r.interval=o,r.occurrenceCount=i,r}return i(e,t),e.prototype.assignFromObject=function(e){u.JsonUtils.isExists(e)&&(t.prototype.assignFromObject.call(this,e),this.start=l.DateTimeUtils.convertToDate(e.start),this.end=l.DateTimeUtils.convertToDate(e.end),u.JsonUtils.isExists(e.interval)&&(this.interval=e.interval),u.JsonUtils.isExists(e.occurrenceCount)&&(this.occurrenceCount=e.occurrenceCount),u.JsonUtils.isExists(e.dayOfWeek)&&(this.dayOfWeekInternal=h.RecurrenceFactory.getEnumValue(s.DayOfWeek,e.dayOfWeek)),u.JsonUtils.isExists(e.day)&&(this.dayInternal=e.day),u.JsonUtils.isExists(e.dayOfWeekOccurrence)&&(this.dayOfWeekOccurrenceInternal=h.RecurrenceFactory.getEnumValue(a.DayOfWeekMonthlyOccurrence,e.dayOfWeekOccurrence)),u.JsonUtils.isExists(e.month)&&(this.monthInternal=h.RecurrenceFactory.getEnumValue(c.Month,e.month)),u.JsonUtils.isExists(e.calculateByDayOfWeek)&&(this._calculateByDayOfWeek=!!e.calculateByDayOfWeek))},e.prototype.calculatePoints=function(t,e){if(!t||!e)return new Array;var n=l.DateTimeUtils.getMaxDate(t,this._start),o=l.DateTimeUtils.getMinDate(e,this._end);return this._occurrenceCount>0?this.calculatePointsByOccurrenceCount(n,o):this.calculatePointsByDateRange(n,o)},e.prototype.calculatePointsByOccurrenceCount=function(t,e){for(var n=new Array,o=this.getFirstPoint(t);o&&n.length<this._occurrenceCount&&l.DateTimeUtils.compareDates(o,e)>=0;)this.isRecurrencePoint(o)&&n.push(o),o=this.getNextPoint(o);return n},e.prototype.calculatePointsByDateRange=function(t,e){for(var n=new Array,o=this.getFirstPoint(t);o&&l.DateTimeUtils.compareDates(o,e)>=0;)this.isRecurrencePoint(o)&&n.push(o),o=this.getNextPoint(o);return n},e.prototype.getFirstPoint=function(t){return this.isRecurrencePoint(t)?t:this.getNextPoint(t)},e.prototype.isRecurrencePoint=function(t){return this.isDateInRange(t)&&this.checkDate(t)&&(!this.useIntervalInCalc()||this.checkInterval(t))},e.prototype.isDateInRange=function(t){return!!t&&(!(this._start&&l.DateTimeUtils.compareDates(this.start,t)<0)&&!(0==this._occurrenceCount&&this.end&&l.DateTimeUtils.compareDates(t,this.end)<0))},e.prototype.useIntervalInCalc=function(){return this.interval>1&&!!this._start},e.prototype.getNextPoint=function(t){return this.isDateInRange(t)?this.useIntervalInCalc()?this.calculatePointByInterval(t):this.calculateNearestPoint(t):null},e.prototype.getSpecDayInMonth=function(t,e){return this._calculateByDayOfWeek?l.DateTimeUtils.getSpecificDayOfWeekInMonthDate(this.dayOfWeekInternal,t,e,this.dayOfWeekOccurrenceInternal):new Date(t,e,this.dayInternal)},Object.defineProperty(e.prototype,"dayInternal",{get:function(){return this._day},set:function(t){t>0&&t<=31&&(this._day=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dayOfWeekInternal",{get:function(){return this._dayOfWeek},set:function(t){t>=s.DayOfWeek.Sunday&&t<=s.DayOfWeek.Saturday&&(this._dayOfWeek=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dayOfWeekOccurrenceInternal",{get:function(){return this._dayOfWeekOccurrence},set:function(t){t>=a.DayOfWeekMonthlyOccurrence.First&&t<=a.DayOfWeekMonthlyOccurrence.Last&&(this._dayOfWeekOccurrence=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"monthInternal",{get:function(){return this._month},set:function(t){t>=c.Month.January&&t<=c.Month.December&&(this._month=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this._start},set:function(t){t&&(this._start=t,this._end&&t>this._end&&(this._end=t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},set:function(t){t&&(this._end=t,this._start&&t<this._start&&(this._start=t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"occurrenceCount",{get:function(){return this._occurrenceCount},set:function(t){t<0&&(t=0),this._occurrenceCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interval",{get:function(){return this._interval},set:function(t){t>0&&(this._interval=t)},enumerable:!0,configurable:!0}),e}(r.DataObject);e.RecurrenceBase=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.TenMinutes=0]="TenMinutes",t[t.Hours=1]="Hours",t[t.SixHours=2]="SixHours",t[t.Days=3]="Days",t[t.Weeks=4]="Weeks",t[t.Months=5]="Months",t[t.Quarter=6]="Quarter",t[t.Years=7]="Years"}(e.ViewType||(e.ViewType={})),function(t){t[t.Left=0]="Left",t[t.Top=1]="Top",t[t.Right=2]="Right",t[t.Bottom=3]="Bottom"}(e.Position||(e.Position={})),function(t){t[t.Inside=0]="Inside",t[t.Outside=1]="Outside",t[t.None=2]="None"}(e.TaskTitlePosition||(e.TaskTitlePosition={}))},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),s=n(36),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.createItem=function(){return new s.Resource},e}(r.CollectionBase);e.ResourceCollection=a},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),s=n(0);!function(t){t[t.FS=0]="FS",t[t.SS=1]="SS",t[t.FF=2]="FF",t[t.SF=3]="SF"}(e.DependencyType||(e.DependencyType={}));var a=function(t){function e(){var e=t.call(this)||this;return e.predecessorId="",e.successorId="",e.type=null,e}return i(e,t),e.prototype.assignFromObject=function(e){s.JsonUtils.isExists(e)&&(t.prototype.assignFromObject.call(this,e),this.internalId=String(e.id),this.predecessorId=String(e.predecessorId),this.successorId=String(e.successorId),this.type=e.type)},e}(r.DataObject);e.Dependency=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){this.start=t,this.end=e};e.DateRange=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){this.width=null,this.height=null,void 0!==t&&(this.width=t),void 0!==e&&(this.height=e)};e.Size=o},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(59),s=function(t,e){this.viewModel=t,this.dispatcher=e};e.BaseManipulator=s;var a=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.title=new u(e,n),o.description=new l(e,n),o.progress=new h(e,n),o.start=new p(e,n),o.end=new d(e,n),o}return i(e,t),e}(s);e.TaskPropertiesManipulator=a;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.setValue=function(t,e){var n=this.viewModel.tasks.getItemById(t),o=new r.HistoryItemState(t,this.getPropertyValue(n));return this.setPropertyValue(n,e),this.viewModel.owner.resetAndUpdate(),o},e.prototype.restoreValue=function(t){if(t){var e=t.value,n=this.viewModel.tasks.getItemById(t.taskId);this.setPropertyValue(n,e),this.viewModel.owner.resetAndUpdate()}},e}(s);e.TaskPropertyManipulator=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getPropertyValue=function(t){return t.title},e.prototype.setPropertyValue=function(t,e){t.title=e,this.dispatcher.notifyTaskTitleChanged(t.internalId,e)},e}(c),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getPropertyValue=function(t){return t.description},e.prototype.setPropertyValue=function(t,e){t.description=e,this.dispatcher.notifyTaskDescriptionChanged(t.internalId,e)},e}(c),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getPropertyValue=function(t){return t.progress},e.prototype.setPropertyValue=function(t,e){t.progress=e,this.dispatcher.notifyTaskProgressChanged(t.internalId,e)},e}(c),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getPropertyValue=function(t){return t.start},e.prototype.setPropertyValue=function(t,e){t.start=e,this.dispatcher.notifyTaskStartChanged(t.internalId,e)},e}(c),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getPropertyValue=function(t){return t.end},e.prototype.setPropertyValue=function(t,e){t.end=e,this.dispatcher.notifyTaskEndChanged(t.internalId,e)},e}(c)},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(67),s=n(3),a=n(2),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onMouseDoubleClick=function(t){},e.prototype.onMouseDown=function(t){},e.prototype.onMouseUp=function(t){},e.prototype.onMouseMove=function(t){},e.prototype.onMouseWheel=function(t){},e.prototype.getRelativePos=function(t){var e=a.DomUtils.getAbsolutePositionX(this.handler.control.taskArea),n=a.DomUtils.getAbsolutePositionY(this.handler.control.taskArea);return new s.Point(t.x-e,t.y-n)},e}(r.HandlerStateBase);e.MouseHandlerStateBase=c},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),s=n(2),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onMouseDown=function(t){this.currentPosition=new r.Point(s.DomUtils.getEventX(t),s.DomUtils.getEventY(t))},e.prototype.onMouseUp=function(t){this.onMouseUpInternal(t),this.handler.switchToDefaultState()},e.prototype.onMouseMove=function(t){var e=new r.Point(s.DomUtils.getEventX(t),s.DomUtils.getEventY(t));this.onMouseMoveInternal(e),this.currentPosition=e},e.prototype.onMouseUpInternal=function(t){},e.prototype.onMouseMoveInternal=function(t){},e}(n(16).MouseHandlerStateBase);e.MouseHandlerDragBaseState=a},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e,n,o){var i=t.call(this,e)||this;return i.taskId=n,i.newValue=o,i}return i(e,t),e.prototype.redo=function(){this.oldState=this.getPropertiesManipulator().setValue(this.taskId,this.newValue)},e.prototype.undo=function(){this.getPropertiesManipulator().restoreValue(this.oldState)},e.prototype.getPropertiesManipulator=function(){throw new Error("Not Implemented")},e}(n(7).HistoryItem);e.TaskPropertiesHistoryItemBase=r;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.title},e}(r);e.TaskTitleHistoryItem=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.description},e}(r);e.TaskDesriptionHistoryItem=a;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.progress},e}(r);e.TaskProgressHistoryItem=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.start},e}(r);e.TaskStartHistoryItem=u;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.end},e}(r);e.TaskEndHistoryItem=l},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),s=function(t){function e(e,n,o,i){var r=t.call(this,e)||this;return r.predecessorId=n,r.successorId=o,r.type=i,r}return i(e,t),e.prototype.redo=function(){this.dependency=this.modelManipulator.dependency.insertDependency(this.predecessorId,this.successorId,this.type)},e.prototype.undo=function(){this.modelManipulator.dependency.removeDependency(this.dependency.internalId)},e}(r.HistoryItem);e.InsertDependencyHistoryItem=s;var a=function(t){function e(e,n){var o=t.call(this,e)||this;return o.dependencyId=n,o}return i(e,t),e.prototype.redo=function(){this.dependency=this.modelManipulator.dependency.removeDependency(this.dependencyId)},e.prototype.undo=function(){this.dependencyId=this.modelManipulator.dependency.insertDependency(this.dependency.predecessorId,this.dependency.successorId,this.dependency.type).internalId},e}(r.HistoryItem);e.RemoveDependencyHistoryItem=a},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),s=function(t){function e(e,n){var o=t.call(this,e)||this;return o.text=n,o}return i(e,t),e.prototype.redo=function(){this.resource=this.modelManipulator.resource.create(this.text,this.resource?this.resource.internalId:null)},e.prototype.undo=function(){this.modelManipulator.resource.remove(this.resource.internalId)},e}(r.HistoryItem);e.CreateResourceHistoryItem=s;var a=function(t){function e(e,n){var o=t.call(this,e)||this;return o.resourceId=n,o}return i(e,t),e.prototype.redo=function(){this.resource=this.modelManipulator.resource.remove(this.resourceId)},e.prototype.undo=function(){this.modelManipulator.resource.create(this.resource.text,this.resourceId)},e}(r.HistoryItem);e.RemoveResourceHistoryItem=a;var c=function(t){function e(e,n,o){var i=t.call(this,e)||this;return i.resourceId=n,i.taskId=o,i}return i(e,t),e.prototype.redo=function(){this.assignment=this.modelManipulator.resource.assign(this.resourceId,this.taskId)},e.prototype.undo=function(){this.modelManipulator.resource.deassig(this.assignment.internalId)},e}(r.HistoryItem);e.AssignResourceHistoryItem=c;var u=function(t){function e(e,n){var o=t.call(this,e)||this;return o.assignmentId=n,o}return i(e,t),e.prototype.redo=function(){this.assignment=this.modelManipulator.resource.deassig(this.assignmentId)},e.prototype.undo=function(){this.modelManipulator.resource.assign(this.assignment.resourceId,this.assignment.taskId)},e}(r.HistoryItem);e.DeassignResourceHistoryItem=u},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(t){var e=this,n=this.createParameters(t),o=n.clone();return this.control.ganttOwner.showDialog(this.getDialogName(),n,(function(t){t&&e.applyParameters(t,o)}),(function(){e.afterClosing()})),!0},e.prototype.applyParameters=function(t,e){return!1},e.prototype.afterClosing=function(){},e.prototype.getState=function(){return new r.SimpleCommandState(this.isEnabled())},e}(r.CommandBase);e.DialogBase=s;var a=function(){};e.DialogParametersBase=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e,n,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===o&&(o=0),this._hour=0,this._min=0,this._sec=0,this._msec=0,this._fullmsec=0,this.hour=t,this.min=e,this.sec=n,this.msec=o}return Object.defineProperty(t.prototype,"hour",{get:function(){return this._hour},set:function(t){t>=0&&t<24&&(this._hour=t,this.updateFullMilleconds())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(t){t>=0&&t<60&&(this._min=t,this.updateFullMilleconds())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sec",{get:function(){return this._sec},set:function(t){t>=0&&t<60&&(this._sec=t,this.updateFullMilleconds())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"msec",{get:function(){return this._msec},set:function(t){t>=0&&t<1e3&&(this._msec=t,this.updateFullMilleconds())},enumerable:!0,configurable:!0}),t.prototype.updateFullMilleconds=function(){var t=60*(60*this._hour+this._min)+this._sec;this._fullmsec=1e3*t+this._msec},t.prototype.getTimeInMilleconds=function(){return this._fullmsec},t}();e.Time=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=function(){function t(t,e){o.DateTimeUtils.caclTimeDifference(t,e)>=0?(this._start=t,this._end=e):(this._start=e,this._end=t)}return Object.defineProperty(t.prototype,"start",{get:function(){return this._start},set:function(t){t&&o.DateTimeUtils.caclTimeDifference(t,this._end)>=0&&(this._start=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._end},set:function(t){t&&o.DateTimeUtils.caclTimeDifference(this._start,t)>=0&&(this._end=t)},enumerable:!0,configurable:!0}),t.prototype.isTimeInRange=function(t){return o.DateTimeUtils.caclTimeDifference(this._start,t)>=0&&o.DateTimeUtils.caclTimeDifference(t,this._end)>=0},t.prototype.hasIntersect=function(t){return this.isTimeInRange(t.start)||this.isTimeInRange(t.end)||t.isTimeInRange(this.start)||t.isTimeInRange(this.end)},t.prototype.concatWith=function(t){return!!this.hasIntersect(t)&&(this.start=o.DateTimeUtils.getMinTime(this.start,t.start),this.end=o.DateTimeUtils.getMaxTime(this.end,t.end),!0)},t}();e.TimeRange=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.First=0]="First",t[t.Second=1]="Second",t[t.Third=2]="Third",t[t.Forth=3]="Forth",t[t.Last=4]="Last"}(e.DayOfWeekMonthlyOccurrence||(e.DayOfWeekMonthlyOccurrence={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(26),r=n(49),s=n(50),a=n(52),c=function(){function t(){}return t.createRecurrenceByType=function(t){if(!t)return null;switch(t.toLowerCase()){case"daily":return new i.Daily;case"weekly":return new r.Weekly;case"monthly":return new s.Monthly;case"yearly":return new a.Yearly}return null},t.createRecurrenceFromObject=function(t){if(!t)return null;var e=this.createRecurrenceByType(t.type);return e&&e.assignFromObject(t),e},t.getEnumValue=function(t,e){if(!o.JsonUtils.isExists(t[e]))return null;var n=parseInt(e);return isNaN(n)?t[e]:n},t}();e.RecurrenceFactory=c},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),s=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.checkDate=function(t){return!0},e.prototype.checkInterval=function(t){return s.DateTimeUtils.getDaysBetween(this.start,t)%this.interval==0},e.prototype.calculatePointByInterval=function(t){var e=this.interval;return this.isRecurrencePoint(t)||(e-=s.DateTimeUtils.getDaysBetween(this.start,t)%this.interval),s.DateTimeUtils.addDays(t,e)},e.prototype.calculateNearestPoint=function(t){return s.DateTimeUtils.addDays(t,1)},e}(r.RecurrenceBase);e.Daily=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),i=n(2),r=function(){function t(){}var e;return t.getDaysInMonth=function(t,e){return new Date(e,t+1,0).getDate()},t.getOffsetInMonths=function(t,e){return 12*(e.getFullYear()-t.getFullYear())+e.getMonth()-t.getMonth()},t.getOffsetInQuarters=function(t,e){return 4*(e.getFullYear()-t.getFullYear())+Math.trunc(e.getMonth()/3)-Math.trunc(t.getMonth()/3)},t.getNearestScaleTickDate=function(t,e,n,o){var i=new Date,r=e.start.getTime(),s=e.end.getTime();if(i.setTime(t.getTime()),t.getTime()<r)i.setTime(r);else if(t.getTime()>s)i.setTime(s);else if(this.needCorrectDate(t,r,n,o)){var a=this.getNearestLeftTickTime(t,r,n,o),c=this.getNextTickTime(a,n,o);Math.abs(t.getTime()-a)>Math.abs(t.getTime()-c)?i.setTime(c):i.setTime(a)}return i},t.needCorrectDate=function(t,e,n,i){return i==o.ViewType.Months?t.getTime()!==new Date(t.getFullYear(),t.getMonth(),1).getTime():(t.getTime()-e)%n!=0},t.getNearestLeftTickTime=function(t,e,n,i){return i==o.ViewType.Months?new Date(t.getFullYear(),t.getMonth(),1).getTime():e+Math.floor((t.getTime()-e)/n)*n},t.getNextTickTime=function(t,e,n){if(n==o.ViewType.Months){var i=new Date;return i.setTime(t),i.setMonth(i.getMonth()+1),i.getTime()}return t+e},t.adjustStartEndDateByViewType=function(t,e,n){var i=new Date;switch(n){case o.ViewType.TenMinutes:i=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()),t.getTime()===i.getTime()||e||(i=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()+1));break;case o.ViewType.SixHours:case o.ViewType.Hours:i=new Date(t.getFullYear(),t.getMonth(),t.getDate()),t.getTime()===i.getTime()||e||(i=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1));break;case o.ViewType.Days:case o.ViewType.Weeks:i=new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay()),t.getTime()===i.getTime()||e||(i=new Date(t.getFullYear(),t.getMonth(),t.getDate()+7-t.getDay()));break;case o.ViewType.Months:case o.ViewType.Quarter:i=new Date(t.getFullYear(),0,1),t.getTime()===i.getTime()||e||(i=new Date(t.getFullYear()+1,0,1))}return i},t.getTickTimeSpan=function(e){switch(e){case o.ViewType.TenMinutes:return t.msPerHour/6;case o.ViewType.Hours:return t.msPerHour;case o.ViewType.SixHours:return 6*t.msPerHour;case o.ViewType.Days:return t.msPerDay;case o.ViewType.Weeks:return t.msPerWeek;case o.ViewType.Months:return t.msPerMonth;case o.ViewType.Quarter:return 3*t.msPerMonth}},t.msPerHour=36e5,t.msPerDay=24*t.msPerHour,t.msPerWeek=7*t.msPerDay,t.msPerMonth=30*t.msPerDay,t.ViewTypeToScaleMap=((e=new Map).set(o.ViewType.TenMinutes,o.ViewType.Hours),e.set(o.ViewType.Hours,o.ViewType.Days),e.set(o.ViewType.SixHours,o.ViewType.Days),e.set(o.ViewType.Days,o.ViewType.Weeks),e.set(o.ViewType.Weeks,o.ViewType.Months),e.set(o.ViewType.Months,o.ViewType.Years),e.set(o.ViewType.Quarter,o.ViewType.Years),e.set(o.ViewType.Years,null),e),t}();e.DateUtils=r;var s=function(){function t(){this.longestAbbrMonthName=null,this.longestMonthName=null,this.longestAbbrDayName=null;var t=document.createElement("canvas");this.textMeasureContext=t.getContext("2d")}return t.prototype.setFont=function(t){var e=i.DomUtils.getCurrentStyle(t),n=e.font?e.font:e.fontStyle+" "+e.fontVariant+" "+e.fontWeight+" "+e.fontSize+" / "+e.lineHeight+" "+e.fontFamily;this.textMeasureContext.font=n},t.prototype.setSettings=function(t,e,n){this.startTime=t,this.viewType=e,this.modelItems=n},t.prototype.getScaleItemStartDate=function(t,e){var n=new Date(this.startTime);switch(e){case o.ViewType.TenMinutes:n.setTime(this.startTime+t*r.msPerHour/6);break;case o.ViewType.Hours:n.setTime(this.startTime+t*r.msPerHour);break;case o.ViewType.SixHours:n.setTime(this.startTime+t*r.msPerHour*6);break;case o.ViewType.Days:n.setTime(this.startTime+t*r.msPerDay);break;case o.ViewType.Weeks:n.setTime(this.startTime+t*r.msPerWeek);break;case o.ViewType.Months:n.setMonth(n.getMonth()+t);break;case o.ViewType.Quarter:n.setMonth(n.getMonth()+3*t);break;case o.ViewType.Years:n.setFullYear(n.getFullYear()+t)}return n},t.prototype.getScaleItemText=function(t,e){var n=this.getScaleItemStartDate(t,e),i=this.viewType.valueOf()==e.valueOf();switch(e){case o.ViewType.TenMinutes:return this.getTenMinutesScaleItemText(n);case o.ViewType.Hours:case o.ViewType.SixHours:return this.getHoursScaleItemText(n);case o.ViewType.Days:return this.getDaysScaleItemText(n,i);case o.ViewType.Weeks:return this.getWeeksScaleItemText(n,i);case o.ViewType.Months:return this.getMonthsScaleItemText(n,i);case o.ViewType.Quarter:return this.getQuarterScaleItemText(n,i);case o.ViewType.Years:return this.getYearsScaleItemText(n)}},t.prototype.getTenMinutesScaleItemText=function(t){var e=t.getMinutes()+1;return(10*Math.ceil(e/10)).toString()},t.prototype.getThirtyMinutesScaleItemText=function(t){return t.getMinutes()<30?"30":"60"},t.prototype.getHoursScaleItemText=function(t){var e=t.getHours(),n=this.getHourDisplayText(e),o=e<12?this.getAmText():this.getPmText();return this.getHoursScaleItemTextCore(n,o)},t.prototype.getDaysScaleItemText=function(t,e){return this.getDayTotalText(t,!0,e,e,!e)},t.prototype.getWeeksScaleItemText=function(t,e){var n=new Date(t.getTime()+r.msPerWeek-r.msPerDay);return this.getWeeksScaleItemTextCore(this.getDayTotalText(t,e,!0,e,!e),this.getDayTotalText(n,e,!0,e,!e))},t.prototype.getMonthsScaleItemText=function(t,e){var n=this.getMonthNames(),o=e?"":t.getFullYear().toString();return this.getMonthsScaleItemTextCore(n[t.getMonth()],o)},t.prototype.getQuarterScaleItemText=function(t,e){var n=this.getQuarterNames(),o=e?"":t.getFullYear().toString();return this.getMonthsScaleItemTextCore(n[Math.trunc(t.getMonth()/3)],o)},t.prototype.getYearsScaleItemText=function(t){return t.getFullYear().toString()},t.prototype.getHourDisplayText=function(t){return this.hasAmPm()?(0==t?12:t<=12?t:t-12).toString():t<10?"0"+t:t.toString()},t.prototype.getDayTotalText=function(t,e,n,o,i){var r=o?this.getAbbrMonthNames():this.getMonthNames(),s=n?this.getAbbrDayNames():this.getDayNames(),a=e?s[t.getDay()]:"",c=t.getDate(),u=r[t.getMonth()],l=i?t.getFullYear().toString():"";return this.getDayTotalTextCore(a,c.toString(),u,l)},t.prototype.getTaskText=function(t){var e=this.modelItems[t];return e?e.task.title:""},t.prototype.getTaskVisibility=function(t){var e=this.modelItems[t];return!!e&&e.getVisible()},t.prototype.hasAmPm=function(){return this.getAmText().length>0||this.getPmText().length>0},t.prototype.getScaleItemTextTemplate=function(t){switch(t){case o.ViewType.TenMinutes:return"00";case o.ViewType.Hours:case o.ViewType.SixHours:return this.getHoursScaleItemTextCore("00",this.getAmText());case o.ViewType.Days:return this.getDayTextTemplate();case o.ViewType.Weeks:return this.getWeekTextTemplate();case o.ViewType.Months:return this.getMonthsScaleItemTextCore(this.getLongestMonthName(),"");case o.ViewType.Quarter:return"Q4"}},t.prototype.getDayTextTemplate=function(){return this.getDayTotalTextCore(this.getLongestAbbrDayName(),"00",this.getLongestAbbrMonthName(),"")},t.prototype.getWeekTextTemplate=function(){var t=this.getDayTextTemplate();return this.getWeeksScaleItemTextCore(t,t)},t.prototype.getHoursScaleItemTextCore=function(t,e){return t+":00"+(this.hasAmPm()?" "+e:"")},t.prototype.getDayTotalTextCore=function(t,e,n,o){var i=t.length>0?t+", ":"";return i+=e+" "+n,i+=o.length>0?" "+o:""},t.prototype.getWeeksScaleItemTextCore=function(t,e){return t+" - "+e},t.prototype.getMonthsScaleItemTextCore=function(t,e){var n=t;return e.length>0&&(n+=" "+e),n},t.prototype.getLongestAbbrMonthName=function(){return null==this.longestAbbrMonthName&&(this.longestAbbrMonthName=this.getLongestText(this.getAbbrMonthNames())),this.longestAbbrMonthName},t.prototype.getLongestMonthName=function(){return null==this.longestMonthName&&(this.longestMonthName=this.getLongestText(this.getMonthNames())),this.longestMonthName},t.prototype.getLongestAbbrDayName=function(){return null==this.longestAbbrDayName&&(this.longestAbbrDayName=this.getLongestText(this.getAbbrDayNames())),this.longestAbbrDayName},t.prototype.getLongestText=function(t){var e=this,n="",o=0;return t.forEach((function(t){var i=e.getTextWidth(t);i>o&&(o=i,n=t)})),n},t.prototype.getTextWidth=function(t){return Math.round(this.textMeasureContext.measureText(t).width)},t.prototype.getAmText=function(){return"AM"},t.prototype.getPmText=function(){return"PM"},t.prototype.getQuarterNames=function(){return["Q1","Q2","Q3","Q4"]},t.prototype.getMonthNames=function(){return["January","February","March","April","May","June","July","August","September","October","November","December",""]},t.prototype.getDayNames=function(){return["Sunday","Monday","ASP","Wednesday","Thursday","Friday","Saturday"]},t.prototype.getAbbrMonthNames=function(){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},t.prototype.getAbbrDayNames=function(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},t}();e.ElementTextHelper=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.IdentUserAgent=function(e,n){void 0===n&&(n=!1);var o=["Mozilla","IE","Firefox","Netscape","Safari","Chrome","Opera","Opera10","Edge"],i={Safari:2,Chrome:.1,Mozilla:1.9,Netscape:8,Firefox:2,Opera:9,IE:6,Edge:12};if(e&&0!=e.length){e=e.toLowerCase(),t.indentPlatformMajorVersion(e);try{for(var r,s={Windows:"Win",Macintosh:"Mac","Mac OS":"Mac",Mac_PowerPC:"Mac","cpu os":"MacMobile","cpu iphone os":"MacMobile",Android:"Android","!Windows Phone":"WinPhone","!WPDesktop":"WinPhone","!ZuneWP":"WinPhone"},a="(?:(\\d+)(?:\\.((?:\\d+?[1-9])|\\d)0*?)?)?",c={Safari:"applewebkit(?:.*?(?:version/(\\d+)(?:\\.((?:\\d+?[1-9])|\\d)0*?)?[\\.\\w\\d]*?(?:\\s+mobile/\\S*)?\\s+safari))?",Chrome:"(?:chrome|crios)(?!frame)(?:/|\\s*)?"+a,Mozilla:"mozilla(?:.*rv:"+a+".*Gecko)?",Netscape:"(?:netscape|navigator)\\d*/?\\s*"+a,Firefox:"firefox(?:/|\\s*)?"+a,Opera:"(?:opera|sopr)(?:/|\\s*)?"+a,Opera10:"opera.*\\s*version(?:/|\\s*)?"+a,IE:"msie\\s*"+a,Edge:"edge(?:/|\\s*)?"+a},u=-1,l=0;l<o.length;l++){var h=o[l],p=new RegExp(c[h],"i");p.compile&&p.compile(c[h],"i");var d=p.exec(e);if(d&&d.index>=0){if("IE"==r&&u>=11&&"Safari"==h)continue;"Opera10"==(r=h)&&(r="Opera");u=t.GetBrowserVersion(e,d,"trident(?:/|\\s*)?(?:(\\d+)(?:\\.((?:\\d+?[1-9])|\\d)0*?)?)?",t.getIECompatibleVersionString()),"Mozilla"==r&&u>=11&&(r="IE")}}r||(r="IE");var f,y=-1!=u;y||(u=i[r]);var g=Number.MAX_VALUE;for(var m in s)if(s.hasOwnProperty(m)){var T="!"==m.substr(0,1),v=e.indexOf((T?m.substr(1):m).toLowerCase());v>=0&&(v<g||T)&&(g=T?0:v,f=s[m])}var w=e.toUpperCase().match("SM-[A-Z]"),k=w&&w.length>0;"WinPhone"==f&&u<9&&(u=Math.floor(t.getVersionFromTrident(e,"trident(?:/|\\s*)?"+a))),!n&&"IE"==r&&u>7&&document.documentMode<u&&(u=document.documentMode),"WinPhone"==f&&(u=Math.max(9,u)),f||(f="Win"),f!=s["cpu os"]||y||(u=4),t.fillUserAgentInfo(o,r,u,f,k)}catch(e){t.fillUserAgentInfo(o,"IE",i.IE,"Win")}}else t.fillUserAgentInfo(o,"IE",i.IE,"Win")},t.GetBrowserVersion=function(e,n,o,i){var r=t.getVersionFromMatches(n);if(i){var s=t.getVersionFromTrident(e,o);if("edge"===i||parseInt(i)===s)return s}return r},t.getIECompatibleVersionString=function(){if(document.compatible)for(var t=0;t<document.compatible.length;t++)if("IE"===document.compatible[t].userAgent&&document.compatible[t].version)return document.compatible[t].version.toLowerCase();return""},t.fillUserAgentInfo=function(e,n,o,i,r){void 0===r&&(r=!1);for(var s=0;s<e.length;s++){var a=e[s];t[a]=a==n}t.Version=Math.floor(10*o)/10,t.MajorVersion=Math.floor(t.Version),t.WindowsPlatform="Win"==i||"WinPhone"==i,t.MacOSPlatform="Mac"==i,t.MacOSMobilePlatform="MacMobile"==i,t.AndroidMobilePlatform="Android"==i,t.WindowsPhonePlatform="WinPhone"==i,t.WebKitFamily=t.Safari||t.Chrome||t.Opera&&t.MajorVersion>=15,t.NetscapeFamily=t.Netscape||t.Mozilla||t.Firefox,t.HardwareAcceleration=t.IE&&t.MajorVersion>=9||t.Firefox&&t.MajorVersion>=4||t.AndroidMobilePlatform&&t.Chrome||t.Chrome&&t.MajorVersion>=37||t.Safari&&!t.WindowsPlatform||t.Edge||t.Opera&&t.MajorVersion>=46,t.WebKitTouchUI=t.MacOSMobilePlatform||t.AndroidMobilePlatform;var c=t.IE&&t.MajorVersion>9&&t.WindowsPlatform&&t.UserAgent.toLowerCase().indexOf("touch")>=0;if(t.MSTouchUI=c||t.Edge&&!!window.navigator.maxTouchPoints,t.TouchUI=t.WebKitTouchUI||t.MSTouchUI,t.MobileUI=t.WebKitTouchUI||t.WindowsPhonePlatform,t.AndroidDefaultBrowser=t.AndroidMobilePlatform&&!t.Chrome,t.AndroidChromeBrowser=t.AndroidMobilePlatform&&t.Chrome,r&&(t.SamsungAndroidDevice=r),t.MSTouchUI){var u=t.UserAgent.toLowerCase().indexOf("arm;")>-1;t.VirtualKeyboardSupported=u||t.WindowsPhonePlatform}else t.VirtualKeyboardSupported=t.WebKitTouchUI;t.fillDocumentElementBrowserTypeClassNames(e)},t.indentPlatformMajorVersion=function(e){var n=/(?:(?:windows nt|macintosh|mac os|cpu os|cpu iphone os|android|windows phone|linux) )(\d+)(?:[-0-9_.])*/.exec(e);n&&(t.PlaformMajorVersion=n[1])},t.prototype.GetBrowserVersion=function(e,n,o,i){var r=t.getVersionFromMatches(n);if(i){var s=t.getVersionFromTrident(e,o);if("edge"===i||parseInt(i)===s)return s}return r},t.getVersionFromMatches=function(t){var e=-1,n="";return t[1]&&(n+=t[1],t[2]&&(n+="."+t[2])),""!=n&&(e=parseFloat(n),isNaN(e)&&(e=-1)),e},t.getVersionFromTrident=function(e,n){var o=new RegExp(n,"i").exec(e);return t.getVersionFromMatches(o)+4},t.fillDocumentElementBrowserTypeClassNames=function(e){for(var n="",o=e.concat(["WindowsPlatform","MacOSPlatform","MacOSMobilePlatform","AndroidMobilePlatform","WindowsPhonePlatform","WebKitFamily","WebKitTouchUI","MSTouchUI","TouchUI","AndroidDefaultBrowser"]),i=0;i<o.length;i++){var r=o[i];t[r]&&(n+="dx"+r+" ")}n+="dxBrowserVersion-"+t.MajorVersion,document&&document.documentElement&&(""!=document.documentElement.className&&(n=" "+n),document.documentElement.className+=n,t.Info=n)},t.UserAgent=window.navigator.userAgent.toLowerCase(),t._foo=t.IdentUserAgent(t.UserAgent),t}();e.Browser=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(14),r=n(54),s=function(){function t(t,e,n){this.position=new o.Point,this.size=new i.Size,this.margins=new r.Margins,this.attr=new Map,t&&(this.className=t),e&&this.setPosition(e),n&&this.setSize(n)}return t.prototype.setSize=function(t){this.size.width=t.width,this.size.height=t.height},t.prototype.setPosition=function(t){this.position.x=t.x,this.position.y=t.y},t.prototype.assignToElement=function(t){this.assignPosition(t),this.assignSize(t),this.assignMargins(t),this.className&&(t.className=this.className)},t.prototype.assignPosition=function(t){null!=this.position.x&&(t.style.left=this.position.x+"px"),null!=this.position.y&&(t.style.top=this.position.y+"px")},t.prototype.assignSize=function(t){this.size.width&&(t.style.width=this.size.width+"px"),this.size.height&&(t.style.height=this.size.height+"px")},t.prototype.assignMargins=function(t){this.margins.marginLeft&&(t.style.marginLeft=this.margins.marginLeft+"px"),this.margins.marginTop&&(t.style.marginTop=this.margins.marginTop+"px"),this.margins.marginRight&&(t.style.marginRight=this.margins.marginRight+"px"),this.margins.marginBottom&&(t.style.marginBottom=this.margins.marginBottom+"px")},t.prototype.setAttribute=function(t,e){this.attr.set(t,e)},t}();e.GridElementInfo=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=function(){function t(t){this.taskIndex=-1,this.successorIndex=-1,this.editing=!1,this.gantt=t,this.createElements(),this.createclassToSourceMap(),this.attachEvents()}return Object.defineProperty(t.prototype,"taskId",{get:function(){return this.gantt.viewModel.tasks.items[this.taskIndex].internalId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"successorId",{get:function(){return this.gantt.viewModel.tasks.items[this.successorIndex].internalId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"task",{get:function(){return this.gantt.viewModel.tasks.items[this.taskIndex]},enumerable:!0,configurable:!0}),t.prototype.show=function(e){!this.editing&&this.gantt.settings.editing.enabled&&(this.taskIndex=e,this.updateWrapInfo(),this.wrapInfo.assignPosition(this.baseElement),this.wrapInfo.assignSize(this.baseElement),this.gantt.taskArea.appendChild(this.baseElement),this.baseElement.className=t.CLASSNAMES.TASK_EDIT_BOX,this.task.isMilestone()?this.baseElement.className=this.baseElement.className+" milestone":(this.gantt.settings.editing.allowDependencyAdding||(this.baseElement.className=this.baseElement.className+" hide-dependency"),this.gantt.settings.editing.allowTaskUpdating||(this.baseElement.className=this.baseElement.className+" hide-updating"),this.progressEdit.style.left=this.task.progress/100*this.wrapInfo.size.width-this.progressEdit.offsetWidth/2+"px"))},t.prototype.updateWrapInfo=function(){this.wrapInfo=this.gantt.gridLayoutCalculator.getTaskWrapperElementInfo(this.taskIndex),this.wrapInfo.size.width=this.gantt.gridLayoutCalculator.getTaskWidth(this.taskIndex),this.wrapInfo.position.x--},t.prototype.hide=function(){var t=this.baseElement.parentNode;t&&t.removeChild(this.baseElement)},t.prototype.showDependencySuccessor=function(t){if(this.successorIndex!=t&&this.taskIndex!=t){this.successorIndex=t;var e=this.gantt.gridLayoutCalculator.getTaskWrapperElementInfo(t);e.size.width=this.gantt.gridLayoutCalculator.getTaskWidth(t)+1,e.assignPosition(this.dependencySuccessorBaseElement),e.assignSize(this.dependencySuccessorBaseElement),e.assignSize(this.dependencySuccessorFrame),this.gantt.taskArea.appendChild(this.dependencySuccessorBaseElement)}},t.prototype.hideDependencySuccessor=function(){var t=this.dependencySuccessorBaseElement.parentNode;t&&t.removeChild(this.dependencySuccessorBaseElement),this.successorIndex=-1},t.prototype.processProgress=function(t){var e=this;this.editing=!0;var n=t.x-this.wrapInfo.position.x,o=0;t.x>this.wrapInfo.position.x&&(o=t.x<this.wrapInfo.position.x+this.wrapInfo.size.width?Math.round(n/this.baseElement.clientWidth*100):100),this.progressEdit.style.left=o/100*this.wrapInfo.size.width-this.progressEdit.offsetWidth/2+"px",this.statusMsg.style.display="block",this.statusMsg.style.right="",this.statusMsg.style.left=this.progressEdit.offsetLeft-this.statusMsg.clientWidth/2+"px",this.statusMsg.innerHTML=o+"%",this.statusTimerId&&clearTimeout(this.statusTimerId),this.statusTimerId=setTimeout((function(){e.statusMsg.style.display="none"}),1500)},t.prototype.confirmProgress=function(){this.editing=!1;var t=Math.round((this.progressEdit.offsetLeft+this.progressEdit.offsetWidth/2)/this.wrapInfo.size.width*100);this.gantt.commandManager.changeTaskProgressCommand.execute(this.taskId,t)},t.prototype.isShouldProcessEnd=function(t){return t>this.wrapInfo.position.x-this.endEdit.clientWidth},t.prototype.processEnd=function(t){this.baseElement.className=this.baseElement.className+" move",this.editing=!0;var e=t.x>this.wrapInfo.position.x?t.x:this.wrapInfo.position.x,n=e-this.wrapInfo.position.x;this.baseElement.style.width=(n<1?0:n)+"px";var o=this.task.start,i=this.gantt.gridLayoutCalculator.getDateByPos(e);i.setSeconds(0),(i<o||n<1)&&i.setTime(o.getTime()),this.statusMsg.style.left="",this.statusMsg.style.right="0px",this.showTimeMessage(o,i)},t.prototype.confirmEnd=function(){this.baseElement.className=t.CLASSNAMES.TASK_EDIT_BOX,this.editing=!1;var e=this.baseElement.clientWidth,n=this.task.start,o=this.gantt.gridLayoutCalculator.getDateByPos(e+this.baseElement.offsetLeft);o.setSeconds(0),o<n&&o.setTime(n.getTime()),this.gantt.commandManager.changeTaskEndCommand.execute(this.taskId,o),this.updateWrapInfo()},t.prototype.processStart=function(t){this.baseElement.className=this.baseElement.className+" move",this.editing=!0;var e=t.x<this.wrapInfo.position.x+this.wrapInfo.size.width?t.x:this.wrapInfo.position.x+this.wrapInfo.size.width,n=this.wrapInfo.size.width-(e-this.wrapInfo.position.x);this.baseElement.style.left=e+"px",this.baseElement.style.width=(n<1?0:n)+"px";var o=this.task.end,i=this.gantt.gridLayoutCalculator.getDateByPos(e);i.setSeconds(0),(i>o||n<1)&&i.setTime(o.getTime()),this.statusMsg.style.right="",this.statusMsg.style.left="0px",this.showTimeMessage(i,o)},t.prototype.confirmStart=function(){this.baseElement.className=t.CLASSNAMES.TASK_EDIT_BOX,this.editing=!1;var e=this.task.end,n=this.baseElement.clientWidth>1?this.gantt.gridLayoutCalculator.getDateByPos(this.baseElement.offsetLeft):e;n.setSeconds(0),this.gantt.commandManager.changeTaskStartCommand.execute(this.taskId,n),this.updateWrapInfo()},t.prototype.processMove=function(t){if(this.gantt.settings.editing.allowTaskUpdating){this.baseElement.className=this.baseElement.className+" move",this.editing=!0;var e=this.baseElement.offsetLeft+t;this.baseElement.style.left=e+"px";var n=this.gantt.gridLayoutCalculator.getDateByPos(e);n.setSeconds(0);var o=this.task.start.getTime()-n.getTime(),i=new Date(this.task.end.getTime()-o);this.showTimeMessage(n,i)}},t.prototype.confirmMove=function(){this.baseElement.className=t.CLASSNAMES.TASK_EDIT_BOX;var e=this.baseElement.offsetLeft,n=this.gantt.gridLayoutCalculator.getDateByPos(e);n.setSeconds(0);var o=this.task.start.getTime()-n.getTime(),i=new Date;i.setTime(this.task.end.getTime()-o),this.editing&&(this.gantt.history.beginTransaction(),this.gantt.commandManager.changeTaskStartCommand.execute(this.taskId,n),this.gantt.commandManager.changeTaskEndCommand.execute(this.taskId,i),this.gantt.history.endTransaction()),this.updateWrapInfo(),this.editing=!1},t.prototype.startDependency=function(e){this.dependencyLine=document.createElement("DIV"),this.dependencyLine.className=t.CLASSNAMES.TASK_EDIT_DEPENDENCY_LINE,this.gantt.taskArea.appendChild(this.dependencyLine),this.startPosition=e},t.prototype.processDependency=function(t){this.editing=!0,this.drawline(this.startPosition,t)},t.prototype.endDependency=function(t){this.editing=!1,t&&this.gantt.commandManager.createDependencyCommand.execute(this.task.id,this.successorId,t);var e=this.dependencyLine.parentNode;e&&e.removeChild(this.dependencyLine),this.dependencyLine=null,this.hideDependencySuccessor(),this.hide()},t.prototype.selectDependency=function(t){this.gantt.settings.editing.allowDependencyDeleting&&(this.dependencyId=t)},t.prototype.isDependencySelected=function(t){return this.dependencyId&&this.dependencyId==t},t.prototype.deleteSelectedDependency=function(){this.dependencyId&&this.gantt.commandManager.removeDependencyCommand.execute(this.dependencyId)},t.prototype.showTimeMessage=function(e,n){var o=this;this.statusMsg.innerHTML="";var i=document.createElement("DIV");i.className=t.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;var r=document.createElement("DIV"),s=document.createElement("SPAN");s.innerHTML="Start: ",r.append(s),r.append(this.formatDate(e));var a=document.createElement("DIV"),c=document.createElement("SPAN");c.innerHTML="End: ",a.append(c),a.append(this.formatDate(n)),i.append(r),i.append(a),this.statusMsg.append(i),this.statusMsg.style.display="block",this.statusTimerId&&clearTimeout(this.statusTimerId),this.statusTimerId=setTimeout((function(){o.statusMsg.style.display="none"}),1500)},t.prototype.formatDate=function(t){return("0"+t.getDate()).slice(-2)+"/"+("0"+(t.getMonth()+1)).slice(-2)+"/"+t.getFullYear()+" "+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)},t.prototype.createElements=function(){this.baseElement=document.createElement("DIV"),this.baseFrame=document.createElement("DIV"),this.baseFrame.className=t.CLASSNAMES.TASK_EDIT_FRAME,this.baseElement.appendChild(this.baseFrame),this.progressEdit=document.createElement("DIV"),this.progressEdit.className=t.CLASSNAMES.TASK_EDIT_PROGRESS,this.baseFrame.appendChild(this.progressEdit),this.statusMsg=document.createElement("DIV"),this.statusMsg.className=t.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS,this.baseFrame.appendChild(this.statusMsg),this.dependencyFinish=document.createElement("DIV"),this.dependencyFinish.className=t.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH,this.baseFrame.appendChild(this.dependencyFinish),this.dependencyStart=document.createElement("DIV"),this.dependencyStart.className=t.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT,this.baseFrame.appendChild(this.dependencyStart),this.startEdit=document.createElement("DIV"),this.startEdit.className=t.CLASSNAMES.TASK_EDIT_START,this.baseFrame.appendChild(this.startEdit),this.endEdit=document.createElement("DIV"),this.endEdit.className=t.CLASSNAMES.TASK_EDIT_END,this.baseFrame.appendChild(this.endEdit),this.dependencySuccessorBaseElement=document.createElement("DIV"),this.dependencySuccessorBaseElement.className=t.CLASSNAMES.TASK_EDIT_BOX_SUCCESSOR,this.dependencySuccessorFrame=document.createElement("DIV"),this.dependencySuccessorFrame.className=t.CLASSNAMES.TASK_EDIT_FRAME_SUCCESSOR,this.dependencySuccessorBaseElement.appendChild(this.dependencySuccessorFrame),this.dependencySuccessorStart=document.createElement("DIV"),this.dependencySuccessorStart.className=t.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH,this.dependencySuccessorFrame.appendChild(this.dependencySuccessorStart),this.dependencySuccessorFinish=document.createElement("DIV"),this.dependencySuccessorFinish.className=t.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT,this.dependencySuccessorFrame.appendChild(this.dependencySuccessorFinish)},t.prototype.attachEvents=function(){this.baseElement.addEventListener("mouseleave",function(t){this.editing||this.hide()}.bind(this))},t.prototype.drawline=function(t,e){if(t.x>e.x){var n=e;e=t,t=n}var o=Math.atan((t.y-e.y)/(e.x-t.x));o=-(o=180*o/Math.PI);var i=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y));this.dependencyLine.style.left=t.x+"px",this.dependencyLine.style.top=t.y+"px",this.dependencyLine.style.width=i+"px",this.dependencyLine.style.transform="rotate("+o+"deg)"},t.prototype.createclassToSourceMap=function(){t.classToSource.set(t.CLASSNAMES.TASK_EDIT_PROGRESS,o.MouseEventSource.TaskEdit_Progress),t.classToSource.set(t.CLASSNAMES.TASK_EDIT_START,o.MouseEventSource.TaskEdit_Start),t.classToSource.set(t.CLASSNAMES.TASK_EDIT_END,o.MouseEventSource.TaskEdit_End),t.classToSource.set(t.CLASSNAMES.TASK_EDIT_FRAME,o.MouseEventSource.TaskEdit_Frame),t.classToSource.set(t.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH,o.MouseEventSource.TaskEdit_DependencyStart),t.classToSource.set(t.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT,o.MouseEventSource.TaskEdit_DependencyFinish),t.classToSource.set(t.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH,o.MouseEventSource.Successor_DependencyStart),t.classToSource.set(t.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT,o.MouseEventSource.Successor_DependencyFinish)},t.CLASSNAMES={TASK_EDIT_BOX:"dx-gantt-task-edit-wrapper",TASK_EDIT_FRAME:"dx-gantt-task-edit-frame",TASK_EDIT_PROGRESS:"dx-gantt-task-edit-progress",TASK_EDIT_PROGRESS_STATUS:"dx-gantt-task-edit-progress-status",TASK_EDIT_PROGRESS_STATUS_TIME:"dx-gantt-status-time",TASK_EDIT_DEPENDENCY_RIGTH:"dx-gantt-task-edit-dependency-r",TASK_EDIT_DEPENDENCY_LEFT:"dx-gantt-task-edit-dependency-l",TASK_EDIT_START:"dx-gantt-task-edit-start",TASK_EDIT_END:"dx-gantt-task-edit-end",TASK_EDIT_DEPENDENCY_LINE:"dx-gantt-task-edit-dependency-line",TASK_EDIT_BOX_SUCCESSOR:"dx-gantt-task-edit-wrapper-successor",TASK_EDIT_FRAME_SUCCESSOR:"dx-gantt-task-edit-frame-successor",TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH:"dx-gantt-task-edit-successor-dependency-r",TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT:"dx-gantt-task-edit-successor-dependency-l"},t.classToSource=new Map,t}();e.TaskEditController=i},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),s=function(t){function e(e,n,o,i,r){var s=t.call(this,e)||this;return s.start=n,s.end=o,s.title=i,s.parentId=r,s}return i(e,t),e.prototype.redo=function(){this.taskId=this.modelManipulator.task.create(this.start,this.end,this.title,this.parentId,this.taskId?this.taskId:null).internalId},e.prototype.undo=function(){this.modelManipulator.task.remove(this.taskId)},e}(r.HistoryItem);e.CreateTaskHistoryItem=s;var a=function(t){function e(e,n){var o=t.call(this,e)||this;return o.taskId=n,o}return i(e,t),e.prototype.redo=function(){this.task=this.modelManipulator.task.remove(this.taskId)},e.prototype.undo=function(){this.modelManipulator.task.create(this.task.start,this.task.end,this.task.title,this.task.parentId,this.task.internalId)},e}(r.HistoryItem);e.RemoveTaskHistoryItem=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(33);var o=n(34);e.GanttView=o.GanttView},function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(35),i=n(10),r=n(27),s=n(2),a=n(13),c=n(14),u=n(3),l=n(29),h=n(55),p=n(56),d=n(30),f=n(6),y=n(57),g=n(62),m=n(63),T=n(73),v=n(74),w=n(75),k=n(18),_=n(31),M=n(77),I=function(){function t(t,e,n){this.timeScaleAreas=new Array,this.horTaskAreaBorders=[],this.vertTaskAreaBorders=[],this.scaleBorders=[],this.scaleElements=[],this.taskElements=[],this.selectionElements=[],this.hlRowElements=[],this.renderedRowIndices=[],this.renderedColIndices=[],this.renderedScaleItemIndices=[],this.dependencyMap=[],this.renderedConnectorLines=[],this.connectorLinesToElementsMap=new Map,this.noWorkingIntervalsToElementsMap=new Map,this.renderedNoWorkingIntervals=[],this.gridLayoutCalculator=new h.GridLayoutCalculator,this.elementTextHelper=new r.ElementTextHelper,this.etalonSizeValues=new p.EtalonSizeValues,this.tickSize=new c.Size,this.scaleCount=2,this.isFocus=!1,this.zoom=1,this.currentSelectedTaskID="",this.ganttOwner=e,this.settings=v.Settings.parse(n),this.createMainElement(t),this.createHeader(),this.createTaskAreaContainer(),this.calculateEtalonSizeValues(),this.loadOptionsFromGanttOwner(),this.elementTextHelper.setFont(this.mainElement),this.setupHelpers(),this.setSizeForTaskArea(),this.createTimeScaleContainer(),this.createTimeScaleAreas(),this.commandManager=new M.CommandManager(this),this.eventManager=new m.EventManager(this),this.taskEditController=new d.TaskEditController(this),this.history=new g.History,this.taskAreaManager=new f.TaskAreaManager(this),this.updateView()}return t.prototype.reset=function(){this.timeScaleContainer.innerHTML="",this.taskArea.innerHTML="",this.horTaskAreaBorders=[],this.vertTaskAreaBorders=[],this.scaleBorders=[],this.scaleElements=[],this.taskElements=[],this.selectionElements=[],this.hlRowElements=[],this.renderedRowIndices=[],this.renderedColIndices=[],this.renderedConnectorLines=[],this.timeScaleAreas=[],this.renderedScaleItemIndices=[],this.connectorLinesToElementsMap.clear(),this.renderedNoWorkingIntervals=[],this.noWorkingIntervalsToElementsMap.clear()},t.prototype.setupHelpers=function(){var t=new c.Size(this.taskAreaContainer.getWidth(),this.taskAreaContainer.getHeight());this.gridLayoutCalculator.setSettings(t,this.tickSize,this.etalonSizeValues,this.range,this.viewModel,this.settings.viewType),this.elementTextHelper.setSettings(this.range.start.getTime(),this.settings.viewType,this.viewModel.items)},t.prototype.getDateRange=function(t,e){var n=r.DateUtils.adjustStartEndDateByViewType(t,!0,this.settings.viewType),o=this.adjustEndDateByVisibleAreaWidth(n,e);return o=r.DateUtils.adjustStartEndDateByViewType(o,!1,this.settings.viewType),new a.DateRange(n,o)},t.prototype.adjustEndDateByVisibleAreaWidth=function(t,e){var n=new Date,o=Math.max(e.getTime(),this.getVisibleAreaEndDate(t).getTime());return n.setTime(o),n},t.prototype.getVisibleAreaEndDate=function(t){var e=new Date,n=Math.ceil(this.taskAreaContainer.getWidth()/this.tickSize.width);return this.settings.viewType==i.ViewType.Months?(e.setTime(t.getTime()),e.setMonth(e.getMonth()+n)):e.setTime(t.getTime()+n*r.DateUtils.getTickTimeSpan(this.settings.viewType)),e},t.prototype.calculateEtalonSizeValues=function(){var t=this.createEtalonElementsContainer(),e=this.createEtalonElements(t);this.calculateEtalonSizeValuesCore(e),this.mainElement.removeChild(t)},t.prototype.calculateEtalonSizeValuesCore=function(t){this.etalonSizeValues.taskHeight=t[0].firstChild.offsetHeight,this.etalonSizeValues.milestoneWidth=t[1].firstChild.offsetWidth,this.etalonSizeValues.taskWrapperTopPadding=s.DomUtils.getTopPaddings(t[0]),this.etalonSizeValues.connectorLineThickness=s.DomUtils.getVerticalBordersWidth(t[2]),this.etalonSizeValues.connectorArrowWidth=s.DomUtils.getHorizontalBordersWidth(t[3]),this.etalonSizeValues.scaleItemHeight=t[4].offsetHeight;for(var e=0;e<=i.ViewType.Quarter;e++)t[4].innerText=this.elementTextHelper.getScaleItemTextTemplate(e),this.etalonSizeValues.scaleItemWidths.set(e,t[4].offsetWidth);var n=t[0],o=n.childNodes[0];for(n.style.width="0px";o.scrollWidth>o.clientWidth;)n.style.width=s.DomUtils.pxToFloat(n.style.width)+1+"px";this.etalonSizeValues.smallTaskWidth=n.offsetWidth,this.etalonSizeValues.outsideTaskTextDefaultWidth=s.DomUtils.pxToFloat(s.DomUtils.getCurrentStyle(t[5]).width)},t.prototype.createEtalonElementsContainer=function(){var t=document.createElement("DIV");return t.style.visibility="hidden",t.style.position="absolute",t.style.left="-1000px",this.mainElement.appendChild(t),t},t.prototype.createEtalonElements=function(t){var e=[],n=this.createElement(new l.GridElementInfo("dx-gantt-taskWrapper"),null,t),o=this.createElement(new l.GridElementInfo("dx-gantt-task"),null,n);this.createElement(new l.GridElementInfo("dx-gantt-taskTitle dx-gantt-titleIn"),null,o).innerText="WWW",e.push(n);var i=this.createElement(new l.GridElementInfo("dx-gantt-taskWrapper"),null,t);this.createElement(new l.GridElementInfo("dx-gantt-task dx-gantt-milestone"),null,i),e.push(i);for(var r=["dx-gantt-conn-h","dx-gantt-arrow","dx-gantt-si","dx-gantt-taskTitle dx-gantt-titleOut"],s=0;s<r.length;s++){var a=new l.GridElementInfo(r[s]);e.push(this.createElement(a,null,t))}return e},t.prototype.zoomIn=function(){1==this.zoom?(this.zoom++,this.updateTickSizeWidth(),this.resetAndUpdate()):this.settings.viewType>i.ViewType.TenMinutes&&(this.zoom--,this.setViewType(this.settings.viewType-1))},t.prototype.zoomOut=function(){this.zoom>1?(this.zoom--,this.updateTickSizeWidth(),this.resetAndUpdate()):this.settings.viewType<i.ViewType.Quarter&&(this.zoom++,this.setViewType(this.settings.viewType+1))},t.prototype.onVisualModelChanged=function(){this.resetAndUpdate()},t.prototype.getGanttViewStartDate=function(t){var e=t.map((function(t){return"string"==typeof t.start?new Date(t.start):t.start}));return e.length>0?e.reduce((function(t,e){return e<t?e:t}),e[0]):new Date},t.prototype.getGanttViewEndDate=function(t){var e=t.map((function(t){return"string"==typeof t.end?new Date(t.end):t.end}));return e.length>0?e.reduce((function(t,e){return e>t?e:t}),e[0]):new Date},t.prototype.getTaskAreaWidth=function(){return this.gridLayoutCalculator.horizontalTickCount*this.tickSize.width},t.prototype.getTaskAreaHeight=function(){return this.getVisibleTaskCount()*this.tickSize.height},t.prototype.getVisibleTaskCount=function(){return this.viewModel.itemCount},t.prototype.getTask=function(t){return this.viewModel.items[t].task},t.prototype.createMainElement=function(t){this.mainElement=document.createElement("DIV"),this.mainElement.style.width=t.offsetWidth+"px",this.mainElement.style.height=t.offsetHeight+"px",t.appendChild(this.mainElement)},t.prototype.createHeader=function(){this.header=document.createElement("DIV"),this.header.className="dx-gantt-header",this.mainElement.appendChild(this.header)},t.prototype.createTimeScaleContainer=function(){this.timeScaleContainer=document.createElement("DIV"),this.timeScaleContainer.className="dx-gantt-tsac",this.timeScaleContainer.style.height=this.etalonSizeValues.scaleItemHeight*this.scaleCount+"px",this.header.appendChild(this.timeScaleContainer)},t.prototype.createTimeScaleArea=function(){var t=document.createElement("DIV");return t.className="dx-gantt-tsa",t.style.width=this.getTaskAreaWidth()+"px",t.style.height=this.etalonSizeValues.scaleItemHeight+"px",this.timeScaleContainer.appendChild(t),this.timeScaleAreas.unshift(t),t},t.prototype.createTimeScaleAreas=function(){for(var t=0;t<this.scaleCount;t++){var e=this.createTimeScaleArea();0==t&&this.settings.viewType==i.ViewType.Weeks&&this.createMonthsScale(e)}},t.prototype.createTaskAreaContainer=function(){var t=document.createElement("DIV");t.className="dx-gantt-tac",this.mainElement.appendChild(t),this.createTaskArea(t),this.taskAreaContainer=this.ganttOwner.getExternalTaskAreaContainer(t),null==this.taskAreaContainer&&(this.taskAreaContainer=new T.TaskAreaContainer(t,this)),this.setClassesToTaskAreaContainer()},t.prototype.setClassesToTaskAreaContainer=function(){var t=this.taskAreaContainer.getElement();this.settings.areHorizontalBordersEnabled?t.classList.add("dx-gantt-tac-hb"):t.classList.remove("dx-gantt-tac-hb")},t.prototype.createTaskArea=function(t){this.taskArea=document.createElement("DIV"),this.taskArea.id="dx-gantt-ta",t.appendChild(this.taskArea)},t.prototype.setSizeForTaskArea=function(){this.taskArea.style.width=this.getTaskAreaWidth()+"px",this.taskArea.style.height=this.getTaskAreaHeight()+"px"},t.prototype.updateTickSizeWidth=function(){this.tickSize.width=this.etalonSizeValues.scaleItemWidths.get(this.settings.viewType)*this.zoom},t.prototype.createMonthsScale=function(t){var e=new Date;e.setTime(this.range.start.getTime());for(var n=0,o=0;e.getTime()<this.range.end.getTime();){var s=r.DateUtils.getDaysInMonth(e.getMonth(),e.getFullYear())-e.getDate()+1,a=new Date;a.setTime(e.getTime()+Math.min(s*r.DateUtils.msPerDay,this.range.end.getTime()-e.getTime()));var h=this.gridLayoutCalculator.getWidthByDateRange(e,a),p=new l.GridElementInfo("dx-gantt-si",new u.Point(n),new c.Size(h));this.createElement(p,null,t).innerText=this.elementTextHelper.getScaleItemText(o,i.ViewType.Months);var d=new l.GridElementInfo("dx-gantt-vb",new u.Point(n+h),new c.Size(0,this.etalonSizeValues.scaleItemHeight));this.createElement(d,null,t),n+=h,o++,e=a}},t.prototype.updateView=function(){this.timeScaleContainer.scrollLeft=this.taskAreaContainer.scrollLeft,this.processScroll(!1),this.processScroll(!0),this.ganttOwner.onGanttScroll(this.taskAreaContainer.scrollTop)},t.prototype.processScroll=function(t){this.recreateTaskAreaBordersAndTaskElements(t),t?this.recreateConnectorLineElements():(this.recreateNoWorkingIntervalElements(),this.recreateScalesElements())},t.prototype.recreateTaskAreaBordersAndTaskElements=function(t){var e=this,n=t?this.taskAreaContainer.scrollTop:this.taskAreaContainer.scrollLeft,o=this.gridLayoutCalculator.getRenderedRowColumnIndices(n,t),i=t?this.renderedRowIndices:this.renderedColIndices;this.recreateElements(i,o,(function(n){e.removeTaskAreaBorderAndTaskElement(n,t)}),(function(n){e.createTaskAreaBorderAndTaskElement(n,t)})),t?this.renderedRowIndices=o:this.renderedColIndices=o},t.prototype.recreateNoWorkingIntervalElements=function(){var t=this,e=this.gridLayoutCalculator.getRenderedNoWorkingIntervals(this.taskAreaContainer.scrollLeft);this.recreateElements(this.renderedNoWorkingIntervals,e,(function(e){t.removeNoWorkingIntervalElement(e)}),(function(e){t.createNoWorkingIntervalElement(e)})),this.renderedNoWorkingIntervals=e},t.prototype.recreateConnectorLineElements=function(){var t=this,e=this.gridLayoutCalculator.getRenderedConnectorLines(this.taskAreaContainer.scrollTop);this.recreateElements(this.renderedConnectorLines,e,(function(e){t.removeConnectorLineElement(e)}),(function(e){t.createConnectorLineElement(e)})),this.renderedConnectorLines=e},t.prototype.recreateScalesElements=function(){this.recreateScaleElements(this.settings.viewType,0),this.recreateScaleElements(r.DateUtils.ViewTypeToScaleMap.get(this.settings.viewType),1)},t.prototype.recreateScaleElements=function(t,e){var n=this,o=this.gridLayoutCalculator.getRenderedScaleItemIndices(t,this.renderedColIndices),i=this.renderedScaleItemIndices[t-this.settings.viewType]||[];this.recreateElements(i,o,(function(t){n.removeScaleElementAndBorder(t,e)}),(function(o){n.createScaleElementAndBorder(o,e,t)})),this.renderedScaleItemIndices[t-this.settings.viewType]=o},t.prototype.recreateElements=function(t,e,n,o){t.filter((function(t){return-1===e.indexOf(t)})).forEach((function(t){n(t)})),e.filter((function(e){return-1===t.indexOf(e)})).forEach((function(t){o(t)}))},t.prototype.allowTaskAreaBorders=function(t){return t?this.settings.areHorizontalBordersEnabled:this.settings.areVerticalBordersEnabled},t.prototype.createTaskAreaBorderAndTaskElement=function(t,e){this.allowTaskAreaBorders(e)&&this.createTaskAreaBorder(t,!e),e&&this.createTaskElement(t)},t.prototype.removeTaskAreaBorderAndTaskElement=function(t,e){this.allowTaskAreaBorders(e)&&this.removeTaskAreaBorder(t,!e),e&&this.removeTaskElement(t)},t.prototype.getTaskAreaBordersDictionary=function(t){return t?this.vertTaskAreaBorders:this.horTaskAreaBorders},t.prototype.createTaskAreaBorder=function(t,e){var n=this.gridLayoutCalculator.getTaskAreaBorderInfo(t,e);this.createElement(n,t,this.taskArea,this.getTaskAreaBordersDictionary(e))},t.prototype.removeTaskAreaBorder=function(t,e){this.removeElement(null,t,this.taskArea,this.getTaskAreaBordersDictionary(e))},t.prototype.createScaleElementAndBorder=function(t,e,n){this.createScaleElement(t,e,n),this.createScaleBorder(t,e,n)},t.prototype.createScaleElement=function(t,e,n){var o=this.gridLayoutCalculator.getScaleElementInfo(t,n);this.createScaleElementCore(t,o,e,this.scaleElements).innerText=this.elementTextHelper.getScaleItemText(t,n)},t.prototype.createScaleBorder=function(t,e,n){var o=this.gridLayoutCalculator.getScaleBorderInfo(t,n);this.createScaleElementCore(t,o,e,this.scaleBorders)},t.prototype.createScaleElementCore=function(t,e,n,o){return o[n]||(o[n]=[]),this.createElement(e,t,this.timeScaleAreas[n],o[n])},t.prototype.removeScaleElementAndBorder=function(t,e){this.removeElement(null,t,this.timeScaleAreas[e],this.scaleElements[e]),this.removeElement(null,t,this.timeScaleAreas[e],this.scaleBorders[e])},t.prototype.createTaskElement=function(t){this.createTaskWrapperElement(t),this.settings.taskTitlePosition==i.TaskTitlePosition.Outside&&this.createTaskTextElement(t,this.taskElements[t]);var e=this.createTaskVisualElement(t);this.viewModel.items[t].task.isMilestone()||(this.settings.taskTitlePosition==i.TaskTitlePosition.Inside&&this.createTaskTextElement(t,e),this.createTaskProgressElement(t,e)),this.settings.showResources&&this.createResources(t),this.viewModel.items[t].selected&&this.createTaskSelectionElement(t),this.isHighlightRowElementAllowed(t)&&this.createHighlightRowElement(t)},t.prototype.isHighlightRowElementAllowed=function(t){return t%2!=0&&this.settings.areAlternateRowsEnabled||this.viewModel.items[t].children.length>0},t.prototype.createResources=function(t){for(var e=this.viewModel.items[t].resources.items,n=0;n<e.length;n++)this.createResourceElement(t,e[n])},t.prototype.createTaskWrapperElement=function(t){var e=this.gridLayoutCalculator.getTaskWrapperElementInfo(t);this.createElement(e,t,this.taskArea,this.taskElements),this.taskElements[t].style.display=this.elementTextHelper.getTaskVisibility(t)?"":"none"},t.prototype.createTaskVisualElement=function(t){var e=this.gridLayoutCalculator.getTaskElementInfo(t),n=this.createElement(e,t,this.taskElements[t]);return n.addEventListener("mouseenter",function(t){this.onTaskElementHover(t)}.bind(this)),n},t.prototype.onTaskElementHover=function(t){var e=s.DomUtils.getEventY(t)-s.DomUtils.getAbsolutePositionY(this.taskArea),n=Math.floor(e/this.tickSize.height);this.taskEditController.show(n)},t.prototype.createTaskProgressElement=function(t,e){var n=this.gridLayoutCalculator.getTaskProgressElementInfo(t);this.createElement(n,t,e)},t.prototype.createTaskTextElement=function(t,e){var n=this.gridLayoutCalculator.getTaskTextElementInfo(t,this.settings.taskTitlePosition==i.TaskTitlePosition.Inside);this.createElement(n,t,e).innerText=this.elementTextHelper.getTaskText(t)},t.prototype.createResourceElement=function(t,e){var n=this.gridLayoutCalculator.getTaskResourceElementInfo();this.createElement(n,t,this.taskElements[t]).innerText=e.text},t.prototype.createTaskSelectionElement=function(t){var e=this.gridLayoutCalculator.getSelectionElementInfo(t);this.taskAreaContainer.isExternal&&!this.settings.areHorizontalBordersEnabled&&e.size.height++,this.createElement(e,t,this.taskArea,this.selectionElements)},t.prototype.createHighlightRowElement=function(t){var e=this.gridLayoutCalculator.getHighlightRowInfo(t);this.createElement(e,t,this.taskArea,this.hlRowElements)},t.prototype.removeTaskElement=function(t){this.removeElement(null,t,this.taskArea,this.taskElements),this.removeElement(null,t,this.taskArea,this.selectionElements),this.isHighlightRowElementAllowed(t)&&this.removeElement(null,t,this.taskArea,this.hlRowElements)},t.prototype.createConnectorLineElement=function(t){return this.taskEditController.isDependencySelected(t.attr.get("dependency-id"))&&(t.className=t.className+" active"),this.createElement(t,null,this.taskArea,this.connectorLinesToElementsMap)},t.prototype.removeConnectorLineElement=function(t){this.removeElement(t,null,this.taskArea,this.connectorLinesToElementsMap)},t.prototype.createNoWorkingIntervalElement=function(t){return this.createElement(t,null,this.taskArea,this.noWorkingIntervalsToElementsMap)},t.prototype.removeNoWorkingIntervalElement=function(t){this.removeElement(t,null,this.taskArea,this.noWorkingIntervalsToElementsMap)},t.prototype.createElement=function(t,e,n,o){var i=document.createElement("DIV");return t.assignToElement(i),n.appendChild(i),o&&o instanceof Array&&null!==e?o[e]=i:o&&o instanceof Map&&o.set(t,i),t.attr.forEach((function(t,e){i.setAttribute(e,t)})),i},t.prototype.removeElement=function(t,e,n,o){var i;o instanceof Array&&null!==e?(i=o[e],delete o[e]):o instanceof Map&&(i=o.get(t),o.delete(t)),i&&n.removeChild(i)},t.prototype.calculateAutoViewType=function(t,e){var n=(e.getTime()-t.getTime())/36e5;return n>8760?i.ViewType.Years:n>720?i.ViewType.Months:n>168?i.ViewType.Weeks:n>24?i.ViewType.Days:n>6?i.ViewType.SixHours:n>1?i.ViewType.Hours:i.ViewType.TenMinutes},t.prototype.expandTask=function(t){this.viewModel.changeTaskExpanded(t,!0)},t.prototype.collapseTask=function(t){this.viewModel.changeTaskExpanded(t,!1)},t.prototype.showTask=function(t){this.viewModel.changeTaskVisibility(t,!0)},t.prototype.hideTask=function(t){this.viewModel.changeTaskVisibility(t,!1)},t.prototype.getTaskVisibility=function(t){return this.viewModel.getTaskVisibility(t)},t.prototype.unselectCurrentSelectedTask=function(){this.unselectTask(this.currentSelectedTaskID)},t.prototype.getTaskSelected=function(t){return this.viewModel.getTaskSelected(t)},t.prototype.setViewType=function(t){null==t&&(t=this.calculateAutoViewType(this.dataRange.start,this.dataRange.end)),this.settings.viewType!==t&&(this.settings.viewType=t,this.updateTickSizeWidth(),this.resetAndUpdate())},t.prototype.setTaskTitlePosition=function(t){this.settings.taskTitlePosition!==t&&(this.settings.taskTitlePosition=t,this.resetAndUpdate())},t.prototype.setShowResources=function(t){this.settings.showResources!==t&&(this.settings.showResources=t,this.resetAndUpdate())},t.prototype.loadOptionsFromGanttOwner=function(){this.tickSize.height=this.ganttOwner.getRowHeight();var t=this.ganttOwner.getGanttTasksData();this.dataRange=new a.DateRange(this.getGanttViewStartDate(t),this.getGanttViewEndDate(t)),null==this.settings.viewType&&(this.settings.viewType=this.calculateAutoViewType(this.dataRange.start,this.dataRange.end)),this.updateTickSizeWidth(),this.range=this.getDateRange(this.dataRange.start,this.dataRange.end),this.viewModel=new o.ViewVisualModel(this,t,this.ganttOwner.getGanttDependenciesData(),this.ganttOwner.getGanttResourcesData(),this.ganttOwner.getGanttResourceAssignmentsData(),this.range,this.ganttOwner.getGanttWorkTimeRules());var e=new w.ModelChangesDispatcher,n=this.ganttOwner.getModelChangesListener();n&&e.onModelChanged.add(n),this.modelManipulator=new y.ModelManipulator(this.viewModel,e)},t.prototype.resetAndUpdate=function(){this.reset(),this.range=this.getDateRange(this.dataRange.start,this.dataRange.end),this.setupHelpers(),this.createTimeScaleAreas(),this.setSizeForTaskArea(),this.updateView()},t.prototype.selectTask=function(t){this.viewModel.changeTaskSelected(t,!0),this.currentSelectedTaskID=t},t.prototype.unselectTask=function(t){this.viewModel.changeTaskSelected(t,!1)},t.prototype.getTaskAreaContainer=function(){return this.taskAreaContainer},t.prototype.setWidth=function(t){this.mainElement.style.width=t+"px"},t.prototype.setAllowSelection=function(t){this.settings.allowSelectTask=t},t.prototype.setEditingSettings=function(t){this.settings.editing=t},t.prototype.setRowLinesVisible=function(t){this.settings.areHorizontalBordersEnabled=t,this.setClassesToTaskAreaContainer(),this.resetAndUpdate()},t.prototype.setTaskTitle=function(t,e){var n=this.getTaskByPublicId(t);n&&this.history.addAndRedo(new k.TaskTitleHistoryItem(this.modelManipulator,n.internalId,e))},t.prototype.setTaskProgress=function(t,e){var n=this.getTaskByPublicId(t);n&&this.history.addAndRedo(new k.TaskProgressHistoryItem(this.modelManipulator,n.internalId,e))},t.prototype.setTaskStart=function(t,e){var n=this.getTaskByPublicId(t);n&&this.history.addAndRedo(new k.TaskStartHistoryItem(this.modelManipulator,n.internalId,e))},t.prototype.setTaskEnd=function(t,e){var n=this.getTaskByPublicId(t);n&&this.history.addAndRedo(new k.TaskEndHistoryItem(this.modelManipulator,n.internalId,e))},t.prototype.removeTask=function(t){var e=this.getTaskByPublicId(t);e&&this.history.addAndRedo(new _.RemoveTaskHistoryItem(this.modelManipulator,e.internalId))},t.prototype.createTask=function(t){var e=(this.viewModel.findItem(t)||this.viewModel.items[0]).task,n=new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate()),o=new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate()+1),i=new _.CreateTaskHistoryItem(this.modelManipulator,n,o,"",t);this.history.addAndRedo(i)},t.prototype.getTaskByPublicId=function(t){return this.viewModel.tasks.getItemByPublicId(t)},t.prototype.getPrevTask=function(t){var e=this.viewModel.findItem(t),n=e.parent.children.indexOf(e)-1;return n>-1?e.parent.children[n].task:e.parent.task},t.prototype.updateCreatedTaskIdAfterServerUpdate=function(t,e){var n=this.viewModel.findItem(t),o=n&&n.task;o&&(o.id=e)},t.prototype.getTaskIdByInternalId=function(t){var e=this.viewModel.findItem(t),n=e&&e.task;return n?n.id:null},t}();e.GanttView=I},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),i=n(37),r=n(39),s=n(40),a=n(42),c=n(43),u=n(44),l=function(){function t(t,e,n,a,c,l,h){this._fLockCount=0,this.owner=t,this.tasks=new i.TaskCollection,this.tasks.importFromObject(e),this.dependencies=new r.DependencyCollection,this.dependencies.importFromObject(n),this.resources=new o.ResourceCollection,this.resources.importFromObject(a),this.assignments=new s.ResourceAssignmentCollection,this.assignments.importFromObject(c),this._itemList=new Array,this._viewItemList=new Array,this._workTimeCalculator=new u.WorkingTimeCalculator(l,h),this.updateModel()}return t.prototype.updateModel=function(){this._itemList.splice(0,this._itemList.length);for(var t=this.tasks.items,e=0;e<t.length;e++){var n=t[e];n&&this._itemList.push(new a.ViewVisualModelItem(n,this.getAssignedResources(n)))}this.createHierarchy(),this.populateItemsForView()},t.prototype.createHierarchy=function(){this.root=new a.ViewVisualModelItem(null,null);for(var t=this._itemList,e=function(){var e=t[o],i=e.task.parentId,r=t.filter((function(t){return t.task&&t.task.internalId===i||t.task.internalId.toString()===i}))[0]||n.root;e.parent=r,r.addChild(e)},n=this,o=0;o<t.length;o++)e()},t.prototype.populateItemsForView=function(){this._viewItemList.splice(0,this._viewItemList.length),this.populateVisibleItems(this.root),this.updateVisibleItemDependencies()},t.prototype.populateVisibleItems=function(t){var e=this,n=t===this.root;t&&(t.task||n)&&(n||(this._viewItemList.push(t),t.visibleIndex=this._viewItemList.length-1),(t.getExpanded()||t===this.root)&&t.children.forEach((function(t){return e.populateVisibleItems(t)})))},t.prototype.updateVisibleItemDependencies=function(){for(var t=this._viewItemList,e=0;e<t.length;e++){var n=t[e],o=this.getTasVisibleDependencies(n.task);n.setDependencies(o)}},t.prototype.getAssignedResources=function(t){var e=this,n=new o.ResourceCollection;return this.assignments.items.filter((function(e){return e.taskId==t.internalId})).forEach((function(t){n.add(e.resources.getItemById(t.resourceId))})),n},t.prototype.getTasVisibleDependencies=function(t){for(var e=new Array,n=t.internalId,o=this.dependencies.items.filter((function(t){return t.successorId==n})),i=0;i<o.length;i++){var r=o[i],s=this.findItem(r.predecessorId);s&&s.getVisible()&&e.push(new c.ViewVisualModelDependencyInfo(r.internalId,s,r.type))}return e},t.prototype.changeTaskExpanded=function(t,e){var n=this.tasks.getItemById(String(t));n&&(n.expanded=e,this.changed())},t.prototype.changeTaskVisibility=function(t,e){var n=this.findItem(t);n&&(n.visible=e,this.changed())},t.prototype.changeTaskSelected=function(t,e){var n=this.findItem(String(t));n&&(n.selected=e,this.changed())},t.prototype.beginUpdate=function(){this._fLockCount++},t.prototype.endUpdate=function(){this._fLockCount--,0==this._fLockCount&&this.changed()},t.prototype.changed=function(){0===this._fLockCount&&(this.populateItemsForView(),this.owner&&this.owner.onVisualModelChanged&&this.owner.onVisualModelChanged())},t.prototype.findItem=function(t){return this._viewItemList.filter((function(e){return e.task&&e.task.internalId===t}))[0]},Object.defineProperty(t.prototype,"items",{get:function(){return this._viewItemList.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemCount",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),t.prototype.getTaskVisibility=function(t){var e=this.findItem(t);return!!e&&e.getVisible()},t.prototype.getTaskSelected=function(t){var e=this.findItem(t);return!!e&&e.selected},Object.defineProperty(t.prototype,"noWorkingIntervals",{get:function(){return this._workTimeCalculator.noWorkingIntervals},enumerable:!0,configurable:!0}),t.prototype.updateRange=function(t){this._workTimeCalculator.updateRange(t)},t}();e.ViewVisualModel=l},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=function(t){function e(){var e=t.call(this)||this;return e.text="",e}return i(e,t),e.prototype.assignFromObject=function(e){r.JsonUtils.isExists(e)&&(t.prototype.assignFromObject.call(this,e),this.text=e.text)},e}(n(4).DataObject);e.Resource=s},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(38),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.createItem=function(){return new r.Task},e}(n(5).CollectionBase);e.TaskCollection=s},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=n(0),a=n(4);!function(t){t[t.Regular=0]="Regular",t[t.Summary=1]="Summary",t[t.Milestone=2]="Milestone"}(r||(r={}));var c=function(t){function e(){var e=t.call(this)||this;return e.start=null,e.end=null,e.duration=null,e.description="",e.parentId="",e.title="",e.owner=null,e.progress=0,e.taskType=null,e.customFields={},e.expanded=!0,e}return i(e,t),e.prototype.assignFromObject=function(e){s.JsonUtils.isExists(e)&&(t.prototype.assignFromObject.call(this,e),this.owner=e.owner,this.parentId=String(e.parentId),this.description=e.description,this.title=e.title,this.start=e.start,this.end=e.end,this.start="string"==typeof e.start?new Date(e.start):e.start,this.end="string"==typeof e.end?new Date(e.end):e.end,this.duration=e.duration,this.progress=e.progress,this.taskType=e.taskType,s.JsonUtils.isExists(e.expanded)&&(this.expanded=!!e.expanded),this.assignCustomFields(e.customFields))},e.prototype.assignCustomFields=function(t){if(t)for(var e in t)t.hasOwnProperty(e)&&(this.customFields[e]=t[e])},e.prototype.isMilestone=function(){return this.start.getTime()==this.end.getTime()},e}(a.DataObject);e.Task=c},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),s=n(12),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.createItem=function(){return new s.Dependency},e}(r.CollectionBase);e.DependencyCollection=a},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),s=n(41),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.createItem=function(){return new s.ResourceAssignment},e}(r.CollectionBase);e.ResourceAssignmentCollection=a},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),s=n(0),a=function(t){function e(){var e=t.call(this)||this;return e.taskId="",e.resourceId="",e}return i(e,t),e.prototype.assignFromObject=function(e){s.JsonUtils.isExists(e)&&(t.prototype.assignFromObject.call(this,e),this.taskId=String(e.taskId),this.resourceId=String(e.resourceId))},e}(r.DataObject);e.ResourceAssignment=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(){function t(t,e){this.dependencies=new Array,this.parent=null,this.visible=!0,this.selected=!1,this.visibleIndex=-1,this.task=t,this.resources=e,this.children=new Array}return Object.defineProperty(t.prototype,"resourceText",{get:function(){var t="";return this.resources.items.forEach((function(e){return t+=e.text+" "})),t},enumerable:!0,configurable:!0}),t.prototype.addChild=function(t){o.JsonUtils.isExists(t)&&this.children.indexOf(t)<0&&this.children.push(t)},t.prototype.removeChild=function(t){var e=this.children.indexOf(t);e>-1&&this.children.splice(e,1)},t.prototype.getExpanded=function(){return!!this.task&&this.task.expanded},t.prototype.getVisible=function(){if(!this.visible)return!1;for(var t=this.parent;t;){if(!t.visible)return!1;t=t.parent}return!0},t.prototype.changeVisibility=function(t){this.visible=t},t.prototype.changeSelection=function(t){this.selected=t},t.prototype.setDependencies=function(t){t&&(this.dependencies=t.slice())},t}();e.ViewVisualModelItem=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,n){this.id=t,this.predecessor=e,this.type=n};e.ViewVisualModelDependencyInfo=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(45),i=n(53),r=n(1),s=function(){function t(t,e){this._workingRules=new o.WorkingDayRuleCollection,this._workDayList=new Array,this._calculationRange=t,this._workingRules.importFromObject(e)}return t.prototype.calculateWorkDayList=function(){if(this._calculationRange){this.clearList();for(var t=this._workingRules.items,e=0;e<t.length;e++)this.processRule(t[e]);this.sortList()}},t.prototype.processRule=function(t){for(var e=t.recurrence.calculatePoints(this._calculationRange.start,this._calculationRange.end),n=function(n){var s=e[n],a=r.DateTimeUtils.getDayNumber(s),c=o._workDayList.filter((function(t){return t.dayNumber==a}))[0];c?(c.isWorkDay=c.isWorkDay&&t.isWorkDay,c.addWorkingIntervals(t.workTimeRanges)):o._workDayList.push(new i.DayWorkingTimeInfo(a,t.isWorkDay,t.workTimeRanges))},o=this,s=0;s<e.length;s++)n(s)},t.prototype.sortList=function(){this._workDayList.sort((function(t,e){return t.dayNumber-e.dayNumber}))},t.prototype.clearList=function(){this._workDayList.splice(0,this._workDayList.length)},t.prototype.calculateNoWorkTimeIntervals=function(){var t=this,e=new Array;return 0==this._workDayList.length&&this.calculateWorkDayList(),this._workDayList.forEach((function(n){return e=e.concat(t.getNoWorkTimeRangesFromDay(n))})),this.concatJointedRanges(e)},t.prototype.concatJointedRanges=function(t){for(var e=new Array,n=0;n<t.length;n++){var o=t[n];e.length>0&&r.DateTimeUtils.compareDates(e[e.length-1].end,o.start)<2?e[e.length-1].end=o.end:e.push(o)}return e},t.prototype.getNoWorkTimeRangesFromDay=function(t){return t.noWorkingIntervals.map((function(e){return r.DateTimeUtils.convertTimeRangeToDateRange(e,t.dayNumber)}))},Object.defineProperty(t.prototype,"noWorkingIntervals",{get:function(){return this._noWorkingIntervals||(this._noWorkingIntervals=this.calculateNoWorkTimeIntervals()),this._noWorkingIntervals.slice()},enumerable:!0,configurable:!0}),t.prototype.updateRange=function(t){this._calculationRange=t,this.invalidate()},t.prototype.invalidate=function(){this._noWorkingIntervals=null,this.clearList()},t}();e.WorkingTimeCalculator=s},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),s=n(46),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.createItem=function(){return new s.WorkingTimeRule},e}(r.CollectionBase);e.WorkingDayRuleCollection=a},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),s=n(0),a=n(1),c=n(25),u=n(26),l=function(t){function e(e,n,o){void 0===e&&(e=null),void 0===n&&(n=!0),void 0===o&&(o=null);var i=t.call(this)||this;return i.isWorkDay=!0,i.workTimeRanges=new Array,i.recurrence=e,i.isWorkDay=n,o&&i.workTimeRanges.concat(o),i}return i(e,t),e.prototype.assignFromObject=function(e){if(s.JsonUtils.isExists(e)){t.prototype.assignFromObject.call(this,e),this.recurrence=c.RecurrenceFactory.createRecurrenceByType(e.recurrenceType)||new u.Daily,s.JsonUtils.isExists(e.recurrence)&&this.recurrence.assignFromObject(e.recurrence),s.JsonUtils.isExists(e.isWorkDay)&&(this.isWorkDay=!!e.isWorkDay);var n=a.DateTimeUtils.convertToTimeRanges(e.workTimeRanges);n&&(this.workTimeRanges=n)}},e}(r.DataObject);e.WorkingTimeRule=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday"}(e.DayOfWeek||(e.DayOfWeek={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.January=0]="January",t[t.February=1]="February",t[t.March=2]="March",t[t.April=3]="April",t[t.May=4]="May",t[t.June=5]="June",t[t.July=6]="July",t[t.August=7]="August",t[t.September=8]="September",t[t.October=9]="October",t[t.November=10]="November",t[t.December=11]="December"}(e.Month||(e.Month={}))},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),s=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.checkDate=function(t){return s.DateTimeUtils.checkDayOfWeek(this.dayOfWeekInternal,t)},e.prototype.checkInterval=function(t){return s.DateTimeUtils.getWeeksBetween(this.start,t)%this.interval==0},e.prototype.calculatePointByInterval=function(t){var e=s.DateTimeUtils.getWeeksBetween(this.start,t),n=Math.floor(e/this.interval);(e%this.interval>0||t.getDay()>=this.dayOfWeekInternal)&&n++;var o=n*this.interval;return this.calcNextPointWithWeekCount(this.start,o)},e.prototype.calculateNearestPoint=function(t){var e=this.dayOfWeekInternal-t.getDay();return e>0?s.DateTimeUtils.addDays(new Date(t),e):this.calcNextPointWithWeekCount(t,1)},e.prototype.calcNextPointWithWeekCount=function(t,e){void 0===e&&(e=1);var n=7*e+this.dayOfWeekInternal-t.getDay();return s.DateTimeUtils.addDays(new Date(t),n)},Object.defineProperty(e.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(t){this.dayOfWeekInternal=t},enumerable:!0,configurable:!0}),e}(r.RecurrenceBase);e.Weekly=a},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),s=n(1),a=n(51),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.checkDate=function(t){return this._calculateByDayOfWeek?s.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(t,this.dayOfWeekInternal,this.dayOfWeekOccurrenceInternal):s.DateTimeUtils.checkDayOfMonth(this.dayInternal,t)},e.prototype.checkInterval=function(t){return s.DateTimeUtils.getMonthsDifference(this.start,t)%this.interval==0},e.prototype.calculatePointByInterval=function(t){var e=this.start,n=s.DateTimeUtils.getMonthsDifference(e,t),o=Math.floor(n/this.interval)*this.interval,i=new a.MonthInfo(e.getMonth(),e.getFullYear());i.addMonths(o);var r=this.getSpecDayInMonth(i.year,i.month);return s.DateTimeUtils.compareDates(r,t)>=0&&(i.addMonths(this.interval),r=this.getSpecDayInMonth(i.year,i.month)),r},e.prototype.calculateNearestPoint=function(t){var e=t.getMonth(),n=t.getFullYear(),o=this.getSpecDayInMonth(n,e);if(s.DateTimeUtils.compareDates(o,t)>=0){var i=new a.MonthInfo(e,n);i.addMonths(1),o=this.getSpecDayInMonth(i.year,i.month)}return o},Object.defineProperty(e.prototype,"day",{get:function(){return this.dayInternal},set:function(t){this.dayInternal=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(t){this.dayOfWeekInternal=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dayOfWeekOccurrence",{get:function(){return this.dayOfWeekOccurrenceInternal},set:function(t){this.dayOfWeekOccurrenceInternal=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"calculateByDayOfWeek",{get:function(){return this._calculateByDayOfWeek},set:function(t){this._calculateByDayOfWeek=t},enumerable:!0,configurable:!0}),e}(r.RecurrenceBase);e.Monthly=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=function(){function t(t,e){this.month=t,this.year=e}return t.prototype.addMonths=function(t){var e=o.DateTimeUtils.getNextMonth(this.month,t),n=Math.floor(t/12);e<this.month&&++n,this.month=e,this.year+=n},t}();e.MonthInfo=i},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),s=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.checkDate=function(t){return!!s.DateTimeUtils.checkMonth(this.month,t)&&(this._calculateByDayOfWeek?s.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(t,this.dayOfWeekInternal,this.dayOfWeekOccurrenceInternal):s.DateTimeUtils.checkDayOfMonth(this.dayInternal,t))},e.prototype.checkInterval=function(t){return s.DateTimeUtils.getYearsDifference(this.start,t)%this.interval==0},e.prototype.calculatePointByInterval=function(t){var e=s.DateTimeUtils.getYearsDifference(this.start,t),n=Math.floor(e/this.interval)*this.interval,o=this.start.getFullYear()+n,i=this.getSpecDayInMonth(o,this.monthInternal);return s.DateTimeUtils.compareDates(i,t)>=0&&(o+=this.interval,i=this.getSpecDayInMonth(o,this.monthInternal)),i},e.prototype.calculateNearestPoint=function(t){var e=t.getFullYear(),n=this.getSpecDayInMonth(e,this.monthInternal);return s.DateTimeUtils.compareDates(n,t)>=0&&(n=this.getSpecDayInMonth(++e,this.monthInternal)),n},Object.defineProperty(e.prototype,"month",{get:function(){return this.monthInternal},set:function(t){this.monthInternal=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"day",{get:function(){return this.dayInternal},set:function(t){this.dayInternal=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(t){this.dayOfWeekInternal=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dayOfWeekOccurrence",{get:function(){return this.dayOfWeekOccurrenceInternal},set:function(t){this.dayOfWeekOccurrenceInternal=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"calculateByDayOfWeek",{get:function(){return this._calculateByDayOfWeek},set:function(t){this._calculateByDayOfWeek=t},enumerable:!0,configurable:!0}),e}(r.RecurrenceBase);e.Yearly=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(23),i=n(1),r=n(22),s=function(){function t(t,e,n){void 0===t&&(t=0),void 0===e&&(e=!0),void 0===n&&(n=null),this._workingIntervals=new Array,this.dayNumber=t,this.isWorkDay=e,this.addWorkingIntervals(n)}return t.prototype.addWorkingIntervals=function(t){t&&(this._workingIntervals=this._workingIntervals.concat(t.filter((function(t){return!!t}))),this.rearrangeWorkingIntervals())},t.prototype.rearrangeWorkingIntervals=function(){for(var t=0;t<this._workingIntervals.length;t++)this.concatWithIntersectedRanges(this._workingIntervals[t]);this.sortIntervals()},t.prototype.concatWithIntersectedRanges=function(t){var e=this;this.getIntersectedIntervals(t).forEach((function(n){t.concatWith(n),e.removeInterval(n)}))},t.prototype.getIntersectedIntervals=function(t){return this._workingIntervals.filter((function(e){return e.hasIntersect(t)&&e!==t}))},t.prototype.sortIntervals=function(){this._workingIntervals.sort((function(t,e){return i.DateTimeUtils.caclTimeDifference(e.start,t.start)}))},t.prototype.removeInterval=function(t){var e=this._workingIntervals.indexOf(t);e>-1&&e<this._workingIntervals.length&&this._workingIntervals.splice(e,1)},t.prototype.clearIntervals=function(){this._workingIntervals.splice(0,this._workingIntervals.length)},Object.defineProperty(t.prototype,"workingIntervals",{get:function(){return this._workingIntervals.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noWorkingIntervals",{get:function(){var t=new Array;if(this.isWorkDay&&0==this._workingIntervals.length)return t;var e=this._workingIntervals.map((function(t){return t.end}));e.splice(0,0,new r.Time);var n=this._workingIntervals.map((function(t){return t.start}));n.push(i.DateTimeUtils.getLastTimeOfDay());for(var s=0;s<e.length;s++){var a=e[s],c=n[s];i.DateTimeUtils.areTimesEqual(a,c)||t.push(new o.TimeRange(a,c))}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isWorkDay",{get:function(){return this._isWorkDay},set:function(t){this._isWorkDay=t,t||this.clearIntervals()},enumerable:!0,configurable:!0}),t}();e.DayWorkingTimeInfo=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){this.marginLeft=null,this.marginTop=null,this.marginRight=null,this.marginBottom=null};e.Margins=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(14),i=n(13),r=n(10),s=n(29),a=n(27),c=n(3),u=n(12),l=function(){function t(){this.tileToDependencyMap=[],this.tileToNoWorkingIntervalsMap=[],this.minLineLength=10,this.resourceMaxWidth=500}return t.prototype.setSettings=function(t,e,n,i,r,s){this.visibleTaskAreaSize=t,this.tickSize=e,this.viewType=s,this.range=i,this.verticalTickCount=r.itemCount,this.viewModel=r,this.elementSizeValues=n,this.taskHeight=n.taskHeight,this.milestoneWidth=n.milestoneWidth,this.scaleHeight=n.scaleItemHeight,this.arrowSize=new o.Size(n.connectorArrowWidth,n.connectorArrowWidth),this.lineThickness=n.connectorLineThickness,this.minConnectorSpaceFromTask=(this.tickSize.height-this.taskHeight)/2,this.tickTimeSpan=a.DateUtils.getTickTimeSpan(s),this.horizontalTickCount=this.getTotalTickCount(),this.createTileToConnectorLinesMap(),this.createTileToNonWorkingIntervalsMap()},t.prototype.getTaskAreaBorderInfo=function(t,e){var n=e?this.tickSize.height*this.verticalTickCount:this.tickSize.width*this.horizontalTickCount;return this.getGridBorderInfo(t,e,n)},t.prototype.getScaleBorderInfo=function(t,e){var n=this.getGridBorderInfo(t,!0);return n.position.x*=this.getScaleItemColSpan(e),n},t.prototype.getGridBorderInfo=function(t,e,n){var o=new s.GridElementInfo;return o.setPosition(this.getGridBorderPosition(t,e)),n&&o.setSize(this.getGridBorderSize(e,n)),o.className=e?"dx-gantt-vb":"dx-gantt-hb",o},t.prototype.getGridBorderPosition=function(t,e){var n=new c.Point,o=(t+1)*(e?this.tickSize.width:this.tickSize.height);return e?n.x=o:n.y=o,n},t.prototype.getGridBorderSize=function(t,e){var n=new o.Size;return t?n.height=e:n.width=e,n},t.prototype.getScaleElementInfo=function(t,e){var n=new s.GridElementInfo;return n.setPosition(this.getScaleItemPosition(t,e)),n.setSize(this.getScaleItemSize(e)),n.className=this.getScaleItemClassName(e,n,this.getRenderedNoWorkingIntervals(n.position.x)),n},t.prototype.getScaleItemClassName=function(t,e,n){var o="dx-gantt-si";return t.valueOf()==this.viewType.valueOf()&&this.isScaleItemInsideNoWorkingInterval(e,n)&&(o+=" dx-gantt-holiday-scaleItem"),o},t.prototype.isScaleItemInsideNoWorkingInterval=function(t,e){for(var n=t.position.x,o=t.position.x+t.size.width,i=0;i<e.length;i++){var r=e[i].position.x,s=e[i].position.x+e[i].size.width;if(n>=r&&o<=s)return!0}return!1},t.prototype.getScaleItemPosition=function(t,e){return new c.Point(t*this.tickSize.width*this.getScaleItemColSpan(e))},t.prototype.getScaleItemSize=function(t){return new o.Size(this.tickSize.width*this.getScaleItemColSpan(t))},t.prototype.getScaleItemColSpan=function(t){return t.valueOf()==this.viewType.valueOf()?1:this.viewType==r.ViewType.TenMinutes?6:this.viewType==r.ViewType.Hours?24:this.viewType==r.ViewType.SixHours?4:this.viewType==r.ViewType.Days?7:this.viewType==r.ViewType.Weeks?4.29:this.viewType==r.ViewType.Months?12:this.viewType==r.ViewType.Quarter?4:1},t.prototype.getTaskWrapperElementInfo=function(t){var e=new s.GridElementInfo;return e.className=this.getTaskWrapperClassName(t),e.setPosition(this.getTaskWrapperPoint(t)),e.setSize(this.getTaskWrapperSize(t)),e},t.prototype.getTaskWrapperClassName=function(t){var e="dx-gantt-taskWrapper";return this.viewModel.items[t].selected&&(e+=" dx-gantt-selectedTask"),e},t.prototype.getTaskWrapperSize=function(t){var e=this.viewModel.items[t].resources.items.length,n=this.resourceMaxWidth*e,i=this.getTaskWidth(t),r=this.getTaskPoint(t),s=this.tickSize.width*this.horizontalTickCount,a=Math.min(i+n,s-r.x);return new o.Size(a)},t.prototype.getTaskWrapperPoint=function(t){var e=new c.Point(this.getPosByDate(this.getTask(t).start),t*this.tickSize.height);return this.getTask(t).isMilestone()&&(e.x-=this.getTaskHeight(t)/2),e},t.prototype.getTaskElementInfo=function(t){var e=new s.GridElementInfo;return this.getTask(t).isMilestone()||(e.size.width=this.getTaskWidth(t)),e.className=this.getTaskClassName(t,e.size.width),e},t.prototype.getTaskClassName=function(t,e){var n="dx-gantt-task";return this.getTask(t).isMilestone()?n+=" dx-gantt-milestone":e<=this.elementSizeValues.smallTaskWidth&&(n+=" dx-gantt-smallTask"),n},t.prototype.getTaskPoint=function(t){var e=this.getTaskWrapperPoint(t);return e.y+=this.elementSizeValues.taskWrapperTopPadding,e},t.prototype.getTaskSize=function(t){return new o.Size(this.getTaskWidth(t),this.getTaskHeight(t))},t.prototype.getTaskWidth=function(t){var e=this.getTask(t);return e.isMilestone()?this.getTaskHeight(t):this.getWidthByDateRange(e.start,e.end)},t.prototype.getTaskHeight=function(t){return this.getTask(t).isMilestone()?this.milestoneWidth:this.taskHeight},t.prototype.getTask=function(t){return this.viewModel.items[t].task},t.prototype.getTaskProgressElementInfo=function(t){var e=new s.GridElementInfo;return e.className="dx-gantt-tPrg",e.setSize(this.getTaskProgressSize(t)),e},t.prototype.getTaskProgressSize=function(t){return new o.Size(this.getTaskProgressWidth(t),null)},t.prototype.getTaskProgressWidth=function(t){return this.getTaskWidth(t)*this.getTask(t).progress/100},t.prototype.getTaskTextElementInfo=function(t,e){var n=new s.GridElementInfo;if(n.className=this.getTaskTextElementClassName(e),!e){var o=this.getTaskPoint(t).x;o<this.elementSizeValues.outsideTaskTextDefaultWidth&&(n.size.width=o,n.margins.marginLeft=-o)}return n},t.prototype.getTaskTextElementClassName=function(t){var e="dx-gantt-taskTitle";return e+=t?" dx-gantt-titleIn":" dx-gantt-titleOut"},t.prototype.getTaskResourceElementInfo=function(){var t=new s.GridElementInfo;return t.className="dx-gantt-taskRes",t},t.prototype.getSelectionElementInfo=function(t){return this.getRowElementInfo(t,"dx-gantt-sel")},t.prototype.getSelectionPosition=function(t){var e=new c.Point;return e.y=t*this.tickSize.height,e},t.prototype.getSelectionSize=function(){return new o.Size(this.tickSize.width*this.horizontalTickCount,this.tickSize.height)},t.prototype.getHighlightRowInfo=function(t){return this.getRowElementInfo(t,"dx-gantt-altRow")},t.prototype.getRowElementInfo=function(t,e){var n=new s.GridElementInfo;return n.className=e,n.setPosition(this.getSelectionPosition(t)),n.setSize(this.getSelectionSize()),n},t.prototype.getNoWorkingIntervalInfo=function(t){var e=new s.GridElementInfo;return e.className="dx-gantt-nwi",e.setPosition(this.getNoWorkingIntervalPosition(t.start)),e.setSize(this.getNoWorkingIntervalSize(t)),e},t.prototype.getNoWorkingIntervalPosition=function(t){var e=new c.Point;return e.x=this.getPosByDate(t),e},t.prototype.getNoWorkingIntervalSize=function(t){return new o.Size(this.getWidthByDateRange(t.start,t.end),this.tickSize.height*this.verticalTickCount)},t.prototype.getConnectorInfo=function(t,e,n,o){for(var i=new Array,r=this.getConnectorPoints(e,n,o),s=0;s<r.length-1;s++)i.push(this.getConnectorLineInfo(t,r[s],r[s+1],0==s||s==r.length-2));return i.push(this.getArrowInfo(r,i,e,n)),i},t.prototype.getConnectorLineInfo=function(t,e,n,o){var i=new s.GridElementInfo,r=e.x==n.x;return i.className=this.getConnectorClassName(r),i.setPosition(this.getConnectorPosition(e,n)),i.setSize(this.getConnectorSize(e,n,r,o)),i.setAttribute("dependency-id",t),i},t.prototype.getConnectorClassName=function(t){return t?"dx-gantt-conn-v":"dx-gantt-conn-h"},t.prototype.getConnectorPosition=function(t,e){return new c.Point(Math.min(t.x,e.x),Math.min(t.y,e.y))},t.prototype.getConnectorSize=function(t,e,n,i){var r=new o.Size;return n?r.height=Math.abs(e.y-t.y+0):r.width=Math.abs(e.x-t.x+0),r},t.prototype.getArrowInfo=function(t,e,n,o){var i=new s.GridElementInfo,r=this.findArrowLineInfo(e,n,o),a=this.getArrowPosition(t,n,o);return i.className=this.getArrowClassName(a),i.setPosition(this.getArrowPoint(r,a)),i},t.prototype.findArrowLineInfo=function(t,e,n){return t[e<n?t.length-1:0]},t.prototype.getArrowPosition=function(t,e,n){var o=t[e<n?t.length-2:1],i=t[e<n?t.length-1:0];return o.x==i.x?o.y>i.y?r.Position.Top:r.Position.Bottom:o.x>i.x?r.Position.Left:r.Position.Right},t.prototype.getArrowClassName=function(t){var e="dx-gantt-arrow";switch(t){case r.Position.Left:e+=" dx-gantt-LA";break;case r.Position.Top:e+=" dx-gantt-TA";break;case r.Position.Right:e+=" dx-gantt-RA";break;case r.Position.Bottom:e+=" dx-gantt-BA"}return e},t.prototype.getArrowPoint=function(t,e){return new c.Point(this.getArrowX(t,e),this.getArrowY(t,e))},t.prototype.getArrowX=function(t,e){switch(e){case r.Position.Left:return t.position.x-this.arrowSize.width/2;case r.Position.Right:return t.position.x+t.size.width-this.arrowSize.width/2;case r.Position.Top:case r.Position.Bottom:return t.position.x-(this.arrowSize.width-this.lineThickness)/2}},t.prototype.getArrowY=function(t,e){switch(e){case r.Position.Top:return t.position.y-this.arrowSize.height/2;case r.Position.Bottom:return t.position.y+t.size.height-this.arrowSize.height/2;case r.Position.Left:case r.Position.Right:return t.position.y-(this.arrowSize.height-this.lineThickness)/2}},t.prototype.getPosByDate=function(t){return this.getWidthByDateRange(this.range.start,t)},t.prototype.getWidthByDateRange=function(t,e){return this.getRangeTickCount(t,e)*this.tickSize.width},t.prototype.getRangeTickCount=function(t,e){return this.viewType==r.ViewType.Months?this.getRangeTickCountInMonthsViewType(t,e):this.viewType==r.ViewType.Quarter?this.getRangeTickCountInQuarterViewType(t,e):(e.getTime()-t.getTime())/this.tickTimeSpan},t.prototype.getRangeTickCountInMonthsViewType=function(t,e){var n=new Date(t.getFullYear(),t.getMonth(),1),o=new Date(e.getFullYear(),e.getMonth(),1);return a.DateUtils.getOffsetInMonths(n,o)+(e.getTime()-o.getTime()-(t.getTime()-n.getTime()))/a.DateUtils.msPerMonth},t.prototype.getRangeTickCountInQuarterViewType=function(t,e){var n=new Date(t.getFullYear(),3*Math.trunc(t.getMonth()/3),1),o=new Date(e.getFullYear(),3*Math.trunc(e.getMonth()/3),1);return a.DateUtils.getOffsetInQuarters(n,o)+(e.getTime()-o.getTime()-(t.getTime()-n.getTime()))/(3*a.DateUtils.msPerMonth)},t.prototype.getDateByPos=function(t){var e=t/this.tickSize.width,n=new Date(this.range.start);if(this.viewType==r.ViewType.Months||this.viewType==r.ViewType.Quarter){var o=Math.trunc(e);n=new Date(n.setMonth(n.getMonth()+(this.viewType==r.ViewType.Months?o:3*o))),e=(t-this.getPosByDate(n))/this.tickSize.width}var i=e*this.tickTimeSpan+n.getTime(),s=new Date;return s.setTime(i),s},t.prototype.getTotalTickCount=function(){return this.getRangeTickCount(this.range.start,this.range.end)},t.prototype.getConnectorPoints=function(t,e,n){switch(n){case u.DependencyType.FS:return this.getFinishToStartConnectorPoints(t,e);case u.DependencyType.SF:return this.getStartToFinishConnectorPoints(t,e);case u.DependencyType.SS:return this.getStartToStartConnectorPoints(t,e);case u.DependencyType.FF:return this.getFinishToFinishConnectorPoints(t,e);default:return new Array}},t.prototype.getFinishToStartConnectorPoints=function(t,e){return t<e?this.getTask(t).end<=this.getTask(e).start?this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide(t,e,!1):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(t,e,!1):this.getTask(t).end<=this.getTask(e).start?this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide(e,t,!1):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(e,t,!0)},t.prototype.getFinishToFinishConnectorPoints=function(t,e){return t<e?this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(t,e):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(e,t)},t.prototype.getStartToStartConnectorPoints=function(t,e){return t<e?this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(t,e):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(e,t)},t.prototype.getStartToFinishConnectorPoints=function(t,e){return t<e?this.getTask(t).start>=this.getTask(e).end?this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide(t,e,!0):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(t,e,!1):this.getTask(t).start>=this.getTask(e).end?this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide(e,t,!0):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(e,t,!0)},t.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide=function(t,e,n){var o=new Array,i=this.getTaskPoint(t),r=this.getTaskPoint(e),s=this.getTaskRightCenter(i,t),a=this.getTask(e).isMilestone(),u=this.getTaskTopCenter(r,e),l=n?this.getTaskWidth(e)-this.minLineLength:this.minLineLength;return o.push(new c.Point(s.x,s.y)),o.push(new c.Point(a?u.x:r.x+l,o[0].y)),o.push(new c.Point(o[1].x,u.y)),o},t.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide=function(t,e){var n=new Array,o=this.getTaskPoint(t),i=this.getTaskPoint(e),r=this.getTaskRightCenter(o,t),s=this.getTaskRightCenter(i,e);return n.push(new c.Point(r.x,r.y)),n.push(new c.Point(Math.max(r.x,s.x)+this.minLineLength,n[0].y)),n.push(new c.Point(n[1].x,s.y)),n.push(new c.Point(s.x,s.y)),n},t.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide=function(t,e,n){var o=new Array,i=this.getTaskPoint(t),r=this.getTaskPoint(e),s=this.getTaskRightCenter(i,t),a=this.getTaskBottomCenter(i,t),u=this.getTaskLeftCenter(r,e),l=this.getTaskTopCenter(r,e);return o.push(new c.Point(s.x,s.y)),o.push(new c.Point(o[0].x+this.minLineLength,o[0].y)),o.push(new c.Point(o[1].x,n?a.y+this.minConnectorSpaceFromTask:l.y-this.minConnectorSpaceFromTask)),o.push(new c.Point(u.x-this.minLineLength,o[2].y)),o.push(new c.Point(o[3].x,u.y)),o.push(new c.Point(u.x,u.y)),o},t.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide=function(t,e,n){var o=new Array,i=this.getTaskPoint(t),r=this.getTaskPoint(e),s=this.getTaskBottomCenter(i,t),a=this.getTask(t).isMilestone(),u=this.getTaskRightCenter(r,e),l=n?this.getTaskWidth(t)-this.minLineLength:this.minLineLength;return o.push(new c.Point(a?s.x:i.x+l,s.y)),o.push(new c.Point(o[0].x,u.y)),o.push(new c.Point(u.x,u.y)),o},t.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide=function(t,e,n){var o=new Array,i=this.getTaskPoint(t),r=this.getTaskPoint(e),s=this.getTaskBottomCenter(i,t),a=this.getTask(t).isMilestone(),u=this.getTaskLeftCenter(r,e),l=n?this.getTaskWidth(t)-this.minLineLength:this.minLineLength;return o.push(new c.Point(a?s.x:i.x+l,s.y)),o.push(new c.Point(o[0].x,u.y)),o.push(new c.Point(u.x,u.y)),o},t.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide=function(t,e,n){var o=new Array,i=this.getTaskPoint(t),r=this.getTaskPoint(e),s=this.getTaskLeftCenter(i,t),a=this.getTaskTopCenter(r,e),u=this.getTask(e).isMilestone(),l=n?this.getTaskWidth(e)-this.minLineLength:this.minLineLength;return o.push(new c.Point(s.x,s.y)),o.push(new c.Point(u?a.x:r.x+l,o[0].y)),o.push(new c.Point(o[1].x,a.y)),o},t.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide=function(t,e,n){var o=new Array,i=this.getTaskPoint(t),r=this.getTaskPoint(e),s=this.getTaskLeftCenter(i,t),a=this.getTaskBottomCenter(i,t),u=this.getTaskRightCenter(r,e),l=this.getTaskTopCenter(r,e);return o.push(new c.Point(s.x,s.y)),o.push(new c.Point(o[0].x-this.minLineLength,o[0].y)),o.push(new c.Point(o[1].x,n?a.y+this.minConnectorSpaceFromTask:l.y-this.minConnectorSpaceFromTask)),o.push(new c.Point(u.x+this.minLineLength,o[2].y)),o.push(new c.Point(o[3].x,u.y)),o.push(new c.Point(u.x,u.y)),o},t.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide=function(t,e){var n=new Array,o=this.getTaskPoint(t),i=this.getTaskPoint(e),r=this.getTaskLeftCenter(o,t),s=this.getTaskLeftCenter(i,e);return n.push(new c.Point(r.x,r.y)),n.push(new c.Point(Math.min(r.x,s.x)-this.minLineLength,n[0].y)),n.push(new c.Point(n[1].x,s.y)),n.push(new c.Point(s.x,s.y)),n},t.prototype.getTaskLeftCenter=function(t,e){return new c.Point(t.x-this.getTaskEdgeCorrection(e),t.y+this.getTaskHeight(e)/2)},t.prototype.getTaskRightCenter=function(t,e){return new c.Point(t.x+this.getTaskWidth(e)+this.getTaskEdgeCorrection(e),t.y+this.getTaskHeight(e)/2)},t.prototype.getTaskTopCenter=function(t,e){return new c.Point(t.x+this.getTaskWidth(e)/2,t.y-this.getTaskEdgeCorrection(e))},t.prototype.getTaskBottomCenter=function(t,e){return new c.Point(t.x+this.getTaskWidth(e)/2,t.y+this.getTaskHeight(e)+this.getTaskEdgeCorrection(e))},t.prototype.getTaskEdgeCorrection=function(t){return this.viewModel.items[t].task.isMilestone()?this.getTaskHeight(t)*(Math.sqrt(2)-1)/2:0},t.prototype.getRenderedRowColumnIndices=function(t,e){for(var n=e?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width,o=e?this.tickSize.height:this.tickSize.width,i=e?this.verticalTickCount:this.horizontalTickCount,r=this.getFirstVisibleGridCellIndex(t,o),s=this.getLastVisibleGridCellIndex(t,o,n,i),a=new Array,c=r;c<=s;c++)a.push(c);return a},t.prototype.getRenderedScaleItemIndices=function(t,e){for(var n=this.getScaleItemColSpan(t),o=Math.floor(e[0]/n),i=Math.floor(e[e.length-1]/n),r=new Array,s=o;s<=i;s++)r.push(s);return r},t.prototype.getFirstVisibleGridCellIndex=function(t,e){var n=Math.floor(t/e);return n=Math.max(n-10,0)},t.prototype.getLastVisibleGridCellIndex=function(t,e,n,o){var i=Math.floor((t+n)/e);return i=Math.min(i+10,o-1)},t.prototype.createTileToConnectorLinesMap=function(){var t=this;this.tileToDependencyMap=[];for(var e=0;e<this.viewModel.items.length;e++)for(var n=0;n<this.viewModel.items[e].dependencies.length;n++){var o=this.viewModel.items[e].dependencies[n].predecessor.visibleIndex,i=this.viewModel.items[e].visibleIndex,r=this.viewModel.items[e].dependencies[n].type,s=this.viewModel.items[e].dependencies[n].id;this.getConnectorInfo(s,o,i,r).forEach((function(e){t.addElementInfoToTileMap(e,t.tileToDependencyMap,!0)}))}},t.prototype.createTileToNonWorkingIntervalsMap=function(){this.tileToNoWorkingIntervalsMap=[];for(var t=0;t<this.viewModel.noWorkingIntervals.length;t++){var e=this.getAdjustedNoWorkingInterval(this.viewModel.noWorkingIntervals[t]);if(e){var n=this.getNoWorkingIntervalInfo(e);this.addElementInfoToTileMap(n,this.tileToNoWorkingIntervalsMap,!1)}}},t.prototype.getAdjustedNoWorkingInterval=function(t){return t.end.getTime()-t.start.getTime()<this.tickTimeSpan-1?null:new i.DateRange(a.DateUtils.getNearestScaleTickDate(t.start,this.range,this.tickTimeSpan,this.viewType),a.DateUtils.getNearestScaleTickDate(t.end,this.range,this.tickTimeSpan,this.viewType))},t.prototype.addElementInfoToTileMap=function(t,e,n){for(var o=n?t.position.y:t.position.x,i=n?t.size.height:t.size.width,r=2*(n?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width),s=Math.floor(o/r),a=Math.floor((o+i)/r),c=s;c<=a;c++)e[c]||(e[c]=new Array),e[c].push(t)},t.prototype.getRenderedConnectorLines=function(t){return this.getElementsInRenderedTiles(this.tileToDependencyMap,!0,t)},t.prototype.getRenderedNoWorkingIntervals=function(t){return this.getElementsInRenderedTiles(this.tileToNoWorkingIntervalsMap,!1,t)},t.prototype.getElementsInRenderedTiles=function(t,e,n){for(var o=e?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width,i=Math.floor(n/(2*o)),r=Math.floor((n+o)/(2*o)),s=new Array,a=i;a<=r;a++)t[a]&&t[a].forEach((function(t){-1==s.indexOf(t)&&s.push(t)}));return s},t}();e.GridLayoutCalculator=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){this.scaleItemWidths=new Map};e.EtalonSizeValues=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(58),i=n(60),r=n(61),s=function(t,e){this.task=new r.TaskManipulator(t,e),this.dependency=new o.TaskDependencyManipulator(t,e),this.resource=new i.ResourcesManipulator(t,e)};e.ModelManipulator=s},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.insertDependency=function(t,e,n){var o=this.viewModel.dependencies.createItem();return o.predecessorId=t,o.successorId=e,o.type=n,this.viewModel.dependencies.add(o),this.dispatcher.notifyDependencyInserted(o),this.viewModel.updateVisibleItemDependencies(),this.viewModel.owner.resetAndUpdate(),o},e.prototype.removeDependency=function(t){var e=this.viewModel.dependencies.getItemById(t);return this.viewModel.dependencies.remove(e),this.dispatcher.notifyDependencyRemoved(e),this.viewModel.updateVisibleItemDependencies(),this.viewModel.owner.resetAndUpdate(),e},e}(n(15).BaseManipulator);e.TaskDependencyManipulator=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e){this.taskId=t,this.value=e};e.HistoryItemState=o},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.create=function(t,e){var n=this.viewModel.resources.createItem();return n.text=t,e&&(n.internalId=e),this.viewModel.resources.add(n),this.dispatcher.notifyResourceCreated(n),n},e.prototype.remove=function(t){var e=this.viewModel.resources.getItemById(t);if(!e)throw new Error("Invalid resource id");if(this.viewModel.assignments.items.filter((function(e){return e.resourceId==t})).length)throw new Error("Can't delete assigned resource");return this.viewModel.resources.remove(e),this.dispatcher.notifyResourceRemoved(e),e},e.prototype.assign=function(t,e){var n=this.viewModel.assignments.createItem();return n.resourceId=t,n.taskId=e,this.viewModel.assignments.add(n),this.dispatcher.notifyResourceAssigned(n),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),n},e.prototype.deassig=function(t){var e=this.viewModel.assignments.getItemById(t);return this.viewModel.assignments.remove(e),this.dispatcher.notifyResourceDeassigned(t),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),e},e}(n(15).BaseManipulator);e.ResourcesManipulator=r},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(15),s=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.properties=new r.TaskPropertiesManipulator(e,n),o}return i(e,t),e.prototype.create=function(t,e,n,o,i){var r=this.viewModel.tasks.createItem();return r.start=t,r.end=e,r.title=n,o&&(r.parentId=o),i&&(r.internalId=i),r.id=r.internalId,this.viewModel.tasks.add(r),this.viewModel.updateModel(),this.dispatcher.notifyTaskCreated(r),this.viewModel.owner.resetAndUpdate(),r},e.prototype.remove=function(t){var e=this.viewModel.tasks.getItemById(t);if(!e)throw new Error("Invalid task id");if(this.viewModel.dependencies.items.filter((function(e){return e.predecessorId==t||e.successorId==t})).length)throw new Error("Can't delete task with dependency");if(this.viewModel.assignments.items.filter((function(e){return e.taskId==t})).length)throw new Error("Can't delete task with assigned resource");return this.viewModel.tasks.remove(e),this.dispatcher.notifyTaskRemoved(e),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),e},e}(r.BaseManipulator);e.TaskManipulator=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),i=function(){function t(){this.historyItems=[],this.currentIndex=-1,this.transaction=null,this.transactionLevel=-1}return t.prototype.undo=function(){this.currentIndex<0||(this.historyItems[this.currentIndex].undo(),this.currentIndex--)},t.prototype.redo=function(){this.currentIndex>=this.historyItems.length-1||(this.currentIndex++,this.historyItems[this.currentIndex].redo())},t.prototype.beginTransaction=function(){this.transactionLevel++,0==this.transactionLevel&&(this.transaction=new o.CompositionHistoryItem)},t.prototype.endTransaction=function(){if(!(--this.transactionLevel>=0)){var t=this.transaction.historyItems.length;t>1?this.addInternal(this.transaction):1==t&&this.addInternal(this.transaction.historyItems.pop()),this.transaction=null}},t.prototype.addAndRedo=function(t){this.add(t),t.redo()},t.prototype.add=function(t){this.transactionLevel>=0?this.transaction.add(t):this.addInternal(t)},t.prototype.addInternal=function(t){this.currentIndex<this.historyItems.length-1&&this.historyItems.splice(this.currentIndex+1),this.historyItems.push(t),this.currentIndex++,this.deleteOldItems()},t.prototype.deleteOldItems=function(){var e=this.historyItems.length-t.MAX_HISTORY_ITEM_COUNT;e>0&&this.currentIndex>e&&(this.historyItems.splice(0,e),this.currentIndex-=e)},t.prototype.clear=function(){this.currentIndex=-1,this.historyItems=[]},t.MAX_HISTORY_ITEM_COUNT=100,t}();e.History=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(64),i=n(2),r=n(72),s=n(28),a=function(){function t(t){this.control=t,this.mouseHandler=new o.MouseHandler(t)}return t.prototype.onMouseDown=function(t){this.mouseHandler.onMouseDown(t)},t.prototype.onMouseMove=function(t){this.mouseHandler.onMouseMove(t)},t.prototype.onMouseUp=function(t){this.mouseHandler.onMouseUp(t)},t.prototype.onMouseDblClick=function(t){this.mouseHandler.onMouseDoubleClick(t)},t.prototype.onMouseWheel=function(t){this.mouseHandler.onMouseWheel(t)},t.prototype.onKeyDown=function(t){if(this.control.isFocus){var e=this.getShortcutCode(t);e==(r.ModifierKey.Ctrl|r.KeyCode.Key_z)&&this.control.history.undo(),e==(r.ModifierKey.Ctrl|r.KeyCode.Key_y)&&this.control.history.redo(),e==r.KeyCode.Delete&&this.control.taskEditController.deleteSelectedDependency()}},t.prototype.getShortcutCode=function(t){var e=i.DomUtils.GetKeyCode(t),n=0;return t.altKey&&(n|=r.ModifierKey.Alt),t.ctrlKey&&(n|=r.ModifierKey.Ctrl),t.shiftKey&&(n|=r.ModifierKey.Shift),t.metaKey&&s.Browser.MacOSPlatform&&(n|=r.ModifierKey.Meta),n|e},t}();e.EventManager=a},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(65),s=n(6),a=n(30),c=n(66),u=n(2),l=n(68),h=n(69),p=n(70),d=n(71),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onMouseDoubleClick=function(t){this.state.onMouseDoubleClick(t)},e.prototype.onMouseDown=function(t){switch(this.getMouseEventSource(u.DomUtils.getEventSource(t))){case s.MouseEventSource.TaskEdit_Frame:this.switchState(new l.MouseHandlerMoveTaskState(this));break;case s.MouseEventSource.TaskEdit_Progress:this.switchState(new h.MouseHandlerProgressTaskState(this));break;case s.MouseEventSource.TaskEdit_Start:case s.MouseEventSource.TaskEdit_End:this.switchState(new p.MouseHandlerTimestampTaskState(this));break;case s.MouseEventSource.TaskEdit_DependencyStart:case s.MouseEventSource.TaskEdit_DependencyFinish:this.switchState(new d.MouseHandlerDependencyState(this))}this.state.onMouseDown(t)},e.prototype.onMouseUp=function(t){this.control.isFocus=!!u.DomUtils.GetIsParent(this.control.mainElement,u.DomUtils.getEventSource(t)),this.state.onMouseUp(t)},e.prototype.onMouseMove=function(t){this.state.onMouseMove(t),t.preventDefault()},e.prototype.onMouseWheel=function(t){this.state.onMouseWheel(t)},e.prototype.switchToDefaultState=function(){this.state=new c.MouseHandlerDefaultState(this)},e.prototype.getMouseEventSource=function(t){var e=(t.nodeType===Node.ELEMENT_NODE?t:t.parentNode).className;return a.TaskEditController.classToSource.get(e)||s.MouseEventSource.TaskArea},e}(r.HandlerBase);e.MouseHandler=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.control=t,this.switchToDefaultState()}return t.prototype.switchState=function(t){this.state&&this.state.finish(),this.state=t,this.state.start()},t.prototype.switchToDefaultState=function(){throw new Error("Not implemented")},t}();e.HandlerBase=o},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),s=n(16),a=n(3),c=function(t){function e(e){var n=t.call(this,e)||this;return n.ganttMovingHelper=new u(n.handler.control),n}return i(e,t),e.prototype.onMouseDown=function(t){var e=r.DomUtils.getEventSource(t);if(e.className==this.handler.control.gridLayoutCalculator.getConnectorClassName(!0)||e.className==this.handler.control.gridLayoutCalculator.getConnectorClassName(!1)){var n=e.getAttribute("dependency-id");this.handler.control.taskEditController.selectDependency(n)}else this.ganttMovingHelper.startMoving(t),this.handler.control.taskEditController.selectDependency(null)},e.prototype.onMouseUp=function(t){this.ganttMovingHelper.onMouseUp(t)},e.prototype.onMouseMove=function(t){this.ganttMovingHelper.movingInfo&&(t.preventDefault(),this.ganttMovingHelper.onMouseMove(t))},e.prototype.onMouseWheel=function(t){if(t.ctrlKey){t.preventDefault(),t.stopPropagation();var e=t.deltaY<0,n=new a.Point(r.DomUtils.getEventX(t),r.DomUtils.getEventY(t)),o=this.getRelativePos(new a.Point(r.DomUtils.getEventX(t),r.DomUtils.getEventY(t))),i=this.handler.control.gridLayoutCalculator.getDateByPos(o.x);e?this.handler.control.zoomIn():this.handler.control.zoomOut();var s=this.handler.control.gridLayoutCalculator.getPosByDate(i);this.handler.control.taskAreaContainer.scrollLeft=s-(n.x-r.DomUtils.getAbsolutePositionX(this.handler.control.taskAreaContainer.getElement()))}},e}(s.MouseHandlerStateBase);e.MouseHandlerDefaultState=c;var u=function(){function t(t){this.gantt=t,this.movingInfo=null}return t.prototype.startMoving=function(t){this.movingInfo=this.calcMovingInfo(t),this.updateGanttAreaCursor(!0)},t.prototype.cancelMoving=function(){this.movingInfo=null},t.prototype.onMouseMove=function(t){this.move(t)},t.prototype.onMouseUp=function(t){this.cancelMoving(),this.updateGanttAreaCursor(!1)},t.prototype.move=function(t){this.updateScrollPosition(t)},t.prototype.updateScrollPosition=function(t){var e=Math.round(r.DomUtils.getEventX(t)),n=Math.round(r.DomUtils.getEventY(t)),o=e-this.movingInfo.eventX,i=n-this.movingInfo.eventY,s=o<0?-1:1,a=i<0?-1:1,c=s<0?this.movingInfo.maxRightDelta:this.movingInfo.maxLeftDelta,u=a<0?this.movingInfo.maxBottomDelta:this.movingInfo.maxTopDelta;Math.abs(o)>c&&(o=c*s),Math.abs(i)>u&&(i=u*a);var l=this.movingInfo.scrollLeft-o,h=this.movingInfo.scrollTop-i,p=this.gantt.taskAreaContainer;p.scrollLeft!==l&&(p.scrollLeft=l),p.scrollTop!==h&&(p.scrollTop=h)},t.prototype.calcMovingInfo=function(t){var e=this.gantt.taskAreaContainer;return{eventX:r.DomUtils.getEventX(t),eventY:r.DomUtils.getEventY(t),scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,maxLeftDelta:e.scrollLeft,maxRightDelta:e.scrollWidth-e.scrollLeft-e.getElement().offsetWidth,maxTopDelta:e.scrollTop,maxBottomDelta:e.scrollHeight-e.scrollTop-e.getElement().offsetHeight}},t.prototype.updateGanttAreaCursor=function(t){this.gantt.taskAreaContainer.getElement().style.cursor=t?"grabbing":"default"},t}();e.GanttMovingHelper=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.handler=t}return t.prototype.start=function(){},t.prototype.finish=function(){},t}();e.HandlerStateBase=o},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onMouseUpInternal=function(t){this.handler.control.taskEditController.confirmMove()},e.prototype.onMouseMoveInternal=function(t){this.handler.control.taskEditController.processMove(t.x-this.currentPosition.x)},e}(n(17).MouseHandlerDragBaseState);e.MouseHandlerMoveTaskState=r},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onMouseUpInternal=function(t){this.handler.control.taskEditController.confirmProgress()},e.prototype.onMouseMoveInternal=function(t){var e=this.getRelativePos(t);this.handler.control.taskEditController.processProgress(e)},e}(n(17).MouseHandlerDragBaseState);e.MouseHandlerProgressTaskState=r},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),s=n(2),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onMouseDown=function(e){t.prototype.onMouseDown.call(this,e),this.source=this.handler.getMouseEventSource(s.DomUtils.getEventSource(e))},e.prototype.onMouseUpInternal=function(t){this.source==r.MouseEventSource.TaskEdit_Start?this.handler.control.taskEditController.confirmStart():this.handler.control.taskEditController.confirmEnd()},e.prototype.onMouseMoveInternal=function(t){var e=this.getRelativePos(t);this.source==r.MouseEventSource.TaskEdit_Start&&this.handler.control.taskEditController.processStart(e),this.source==r.MouseEventSource.TaskEdit_End&&this.handler.control.taskEditController.processEnd(e)},e}(n(17).MouseHandlerDragBaseState);e.MouseHandlerTimestampTaskState=a},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),s=n(2),a=n(16),c=n(6),u=n(12),l=[];l[c.MouseEventSource.TaskEdit_DependencyStart]=[],l[c.MouseEventSource.TaskEdit_DependencyFinish]=[],l[c.MouseEventSource.TaskEdit_DependencyStart][c.MouseEventSource.Successor_DependencyStart]=u.DependencyType.SS,l[c.MouseEventSource.TaskEdit_DependencyStart][c.MouseEventSource.Successor_DependencyFinish]=u.DependencyType.SF,l[c.MouseEventSource.TaskEdit_DependencyFinish][c.MouseEventSource.Successor_DependencyStart]=u.DependencyType.FS,l[c.MouseEventSource.TaskEdit_DependencyFinish][c.MouseEventSource.Successor_DependencyFinish]=u.DependencyType.FF;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onMouseDown=function(t){var e=s.DomUtils.getEventSource(t);this.source=this.handler.getMouseEventSource(e);var n=this.getRelativePos(new r.Point(s.DomUtils.getAbsolutePositionX(e)+e.clientWidth/2,s.DomUtils.getAbsolutePositionY(e)+e.clientHeight/2));this.handler.control.taskEditController.startDependency(n)},e.prototype.onMouseUp=function(t){var e=this.handler.getMouseEventSource(s.DomUtils.getEventSource(t)),n=e===c.MouseEventSource.Successor_DependencyStart||e==c.MouseEventSource.Successor_DependencyFinish?l[this.source][e]:null;this.handler.control.taskEditController.endDependency(n),this.handler.switchToDefaultState()},e.prototype.onMouseMove=function(t){var e=this.getRelativePos(new r.Point(s.DomUtils.getEventX(t),s.DomUtils.getEventY(t))),n=Math.floor(e.y/this.handler.control.tickSize.height);this.handler.control.taskEditController.processDependency(e),this.handler.control.viewModel.tasks.items[n]&&this.handler.control.taskEditController.showDependencySuccessor(n)},e}(a.MouseHandlerStateBase);e.MouseHandlerDependencyState=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.None=0]="None",t[t.Ctrl=65536]="Ctrl",t[t.Shift=262144]="Shift",t[t.Alt=1048576]="Alt",t[t.Meta=16777216]="Meta"}(e.ModifierKey||(e.ModifierKey={})),function(t){t[t.Backspace=8]="Backspace",t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Pause=19]="Pause",t[t.CapsLock=20]="CapsLock",t[t.Esc=27]="Esc",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.Left=37]="Left",t[t.Up=38]="Up",t[t.Right=39]="Right",t[t.Down=40]="Down",t[t.Insert=45]="Insert",t[t.Delete=46]="Delete",t[t.Key_0=48]="Key_0",t[t.Key_1=49]="Key_1",t[t.Key_2=50]="Key_2",t[t.Key_3=51]="Key_3",t[t.Key_4=52]="Key_4",t[t.Key_5=53]="Key_5",t[t.Key_6=54]="Key_6",t[t.Key_7=55]="Key_7",t[t.Key_8=56]="Key_8",t[t.Key_9=57]="Key_9",t[t.Key_a=65]="Key_a",t[t.Key_b=66]="Key_b",t[t.Key_c=67]="Key_c",t[t.Key_d=68]="Key_d",t[t.Key_e=69]="Key_e",t[t.Key_f=70]="Key_f",t[t.Key_g=71]="Key_g",t[t.Key_h=72]="Key_h",t[t.Key_i=73]="Key_i",t[t.Key_j=74]="Key_j",t[t.Key_k=75]="Key_k",t[t.Key_l=76]="Key_l",t[t.Key_m=77]="Key_m",t[t.Key_n=78]="Key_n",t[t.Key_o=79]="Key_o",t[t.Key_p=80]="Key_p",t[t.Key_q=81]="Key_q",t[t.Key_r=82]="Key_r",t[t.Key_s=83]="Key_s",t[t.Key_t=84]="Key_t",t[t.Key_u=85]="Key_u",t[t.Key_v=86]="Key_v",t[t.Key_w=87]="Key_w",t[t.Key_x=88]="Key_x",t[t.Key_y=89]="Key_y",t[t.Key_z=90]="Key_z",t[t.Windows=91]="Windows",t[t.ContextMenu=93]="ContextMenu",t[t.Numpad_0=96]="Numpad_0",t[t.Numpad_1=97]="Numpad_1",t[t.Numpad_2=98]="Numpad_2",t[t.Numpad_3=99]="Numpad_3",t[t.Numpad_4=100]="Numpad_4",t[t.Numpad_5=101]="Numpad_5",t[t.Numpad_6=102]="Numpad_6",t[t.Numpad_7=103]="Numpad_7",t[t.Numpad_8=104]="Numpad_8",t[t.Numpad_9=105]="Numpad_9",t[t.Multiply=106]="Multiply",t[t.Add=107]="Add",t[t.Subtract=109]="Subtract",t[t.Decimal=110]="Decimal",t[t.Divide=111]="Divide",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12",t[t.NumLock=144]="NumLock",t[t.ScrollLock=145]="ScrollLock",t[t.Semicolon=186]="Semicolon",t[t.Equals=187]="Equals",t[t.Comma=188]="Comma",t[t.Dash=189]="Dash",t[t.Period=190]="Period",t[t.ForwardSlash=191]="ForwardSlash",t[t.GraveAccent=192]="GraveAccent",t[t.OpenBracket=219]="OpenBracket",t[t.BackSlash=220]="BackSlash",t[t.CloseBracket=221]="CloseBracket",t[t.SingleQuote=222]="SingleQuote"}(e.KeyCode||(e.KeyCode={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){this.element=t,this.element.addEventListener("scroll",(function(){e.updateView()}))}return Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this.element.scrollTop},set:function(t){this.element.scrollTop=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollLeft",{get:function(){return this.element.scrollLeft},set:function(t){this.element.scrollLeft=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollWidth",{get:function(){return this.element.scrollWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollHeight",{get:function(){return this.element.scrollHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isExternal",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.getWidth=function(){return this.element.offsetWidth},t.prototype.getHeight=function(){return this.element.offsetHeight},t.prototype.getElement=function(){return this.element},t}();e.TaskAreaContainer=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),i=n(0),r=function(){function t(){this.viewType=void 0,this.taskTitlePosition=o.TaskTitlePosition.Inside,this.showResources=!0,this.areHorizontalBordersEnabled=!0,this.areVerticalBordersEnabled=!0,this.areAlternateRowsEnabled=!0,this.allowSelectTask=!0,this.editing=new s}return t.parse=function(e){var n=new t;return e&&(i.JsonUtils.isExists(e.viewType)&&(n.viewType=e.viewType),i.JsonUtils.isExists(e.taskTitlePosition)&&(n.taskTitlePosition=e.taskTitlePosition),i.JsonUtils.isExists(e.showResources)&&(n.showResources=e.showResources),i.JsonUtils.isExists(e.areHorizontalBordersEnabled)&&(n.areHorizontalBordersEnabled=e.areHorizontalBordersEnabled),i.JsonUtils.isExists(e.areVerticalBordersEnabled)&&(n.areHorizontalBordersEnabled=e.areHorizontalBordersEnabled),i.JsonUtils.isExists(e.areAlternateRowsEnabled)&&(n.areAlternateRowsEnabled=e.areAlternateRowsEnabled),i.JsonUtils.isExists(e.allowSelectTask)&&(n.allowSelectTask=e.allowSelectTask),i.JsonUtils.isExists(e.editing)&&(n.editing=s.parse(e.editing))),n},t}();e.Settings=r;var s=function(){function t(){this.enabled=!1,this.allowDependencyDeleting=!0,this.allowDependencyAdding=!0,this.allowDependencyUpdating=!0,this.allowTaskDeleting=!0,this.allowTaskAdding=!0,this.allowTaskUpdating=!0,this.allowResourceDeleting=!0,this.allowResourceAdding=!0,this.allowResourceUpdating=!0}return t.parse=function(e){var n=new t;return e&&(i.JsonUtils.isExists(e.enabled)&&(n.enabled=e.enabled),i.JsonUtils.isExists(e.allowDependencyDeleting)&&(n.allowDependencyDeleting=e.allowDependencyDeleting),i.JsonUtils.isExists(e.allowDependencyAdding)&&(n.allowDependencyAdding=e.allowDependencyAdding),i.JsonUtils.isExists(e.allowDependencyUpdating)&&(n.allowDependencyUpdating=e.allowDependencyUpdating),i.JsonUtils.isExists(e.allowTaskDeleting)&&(n.allowTaskDeleting=e.allowTaskDeleting),i.JsonUtils.isExists(e.allowTaskAdding)&&(n.allowTaskAdding=e.allowTaskAdding),i.JsonUtils.isExists(e.allowTaskUpdating)&&(n.allowTaskUpdating=e.allowTaskUpdating),i.JsonUtils.isExists(e.allowResourceDeleting)&&(n.allowResourceDeleting=e.allowResourceDeleting),i.JsonUtils.isExists(e.allowResourceAdding)&&(n.allowResourceAdding=e.allowResourceAdding),i.JsonUtils.isExists(e.allowResourceUpdating)&&(n.allowResourceUpdating=e.allowResourceUpdating)),n},t}();e.EditingSettings=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(76),i=function(){function t(){this.onModelChanged=new o.EventDispatcher}return t.prototype.notifyTaskCreated=function(t){this.onModelChanged.raise("NotifyTaskCreated",t)},t.prototype.notifyTaskRemoved=function(t){this.onModelChanged.raise("NotifyTaskRemoved",t)},t.prototype.notifyTaskTitleChanged=function(t,e){this.onModelChanged.raise("NotifyTaskTitleChanged",t,e)},t.prototype.notifyTaskDescriptionChanged=function(t,e){this.onModelChanged.raise("NotifyTaskDescriptionChanged",t,e)},t.prototype.notifyTaskStartChanged=function(t,e){this.onModelChanged.raise("NotifyTaskStartChanged",t,e)},t.prototype.notifyTaskEndChanged=function(t,e){this.onModelChanged.raise("NotifyTaskEndChanged",t,e)},t.prototype.notifyTaskProgressChanged=function(t,e){this.onModelChanged.raise("NotifyTaskProgressChanged",t,e)},t.prototype.notifyDependencyInserted=function(t){this.onModelChanged.raise("NotifyDependencyInserted",t)},t.prototype.notifyDependencyRemoved=function(t){this.onModelChanged.raise("NotifyDependencyRemoved",t)},t.prototype.notifyResourceCreated=function(t){this.onModelChanged.raise("NotifyResourceCreated",t)},t.prototype.notifyResourceRemoved=function(t){this.onModelChanged.raise("NotifyResourceRemoved",t)},t.prototype.notifyResourceAssigned=function(t){this.onModelChanged.raise("NotifyResourceAssigned",t)},t.prototype.notifyResourceDeassigned=function(t){this.onModelChanged.raise("NotifyResourceDeassigned",t)},t}();e.ModelChangesDispatcher=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this.listeners=[]}return t.prototype.add=function(t){if(!t)throw new Error("Error");this.hasEventListener(t)||this.listeners.push(t)},t.prototype.remove=function(t){for(var e,n=0;e=this.listeners[n];n++)if(e===t){this.listeners.splice(n,1);break}},t.prototype.raise=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var o,i=0;o=this.listeners[i];i++)o[t].apply(o,e)},t.prototype.hasEventListener=function(t){for(var e=0,n=this.listeners.length;e<n;e++)if(this.listeners[e]===t)return!0;return!1},t}();e.EventDispatcher=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(78),i=n(79),r=n(80),s=n(81),a=n(82),c=n(83),u=n(84),l=function(){function t(t){this.control=t}return Object.defineProperty(t.prototype,"createTaskCommand",{get:function(){return new o.CreateTaskCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"removeTaskCommand",{get:function(){return new o.RemoveTaskCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changeTaskTitleCommand",{get:function(){return new i.TaskTitleCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changeTaskDescriptionCommand",{get:function(){return new i.TaskDescriptionCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changeTaskProgressCommand",{get:function(){return new i.TaskProgressCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changeTaskStartCommand",{get:function(){return new i.TaskStartCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changeTaskEndCommand",{get:function(){return new i.TaskEndCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"createDependencyCommand",{get:function(){return new r.CreateDependencyCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"removeDependencyCommand",{get:function(){return new r.RemoveDependencyCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"createResourceCommand",{get:function(){return new s.CreateResourceCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"removeResourceCommand",{get:function(){return new s.RemoveResourceCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"assignResourceCommand",{get:function(){return new s.AssignResourceCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deassignResourceCommand",{get:function(){return new s.DeassignResourceCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTaskEditDialog",{get:function(){return new a.TaskEditDialogCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showConstraintViolationDialog",{get:function(){return new c.ConstraintViolationDialogCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showResourcesDialog",{get:function(){return new u.ResourcesDialogCommand(this.control)},enumerable:!0,configurable:!0}),t}();e.CommandManager=l},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),s=n(31),a=n(19),c=n(20),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getState=function(){return new r.SimpleCommandState(this.isEnabled())},e}(r.CommandBase);e.TaskCommandBase=u;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(e,n,o,i){return t.prototype.execute.call(this,e,n,o,i)},e.prototype.executeInternal=function(t,e,n,o){return this.history.addAndRedo(new s.CreateTaskHistoryItem(this.modelManipulator,t,e,n,o)),!0},e.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskAdding},e}(u);e.CreateTaskCommand=l;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(e){return t.prototype.execute.call(this,e)},e.prototype.executeInternal=function(t){var e=this;this.history.beginTransaction();var n=this.control.viewModel.dependencies.items.filter((function(e){return e.predecessorId==t||e.successorId==t}));if(n.length){if(!this.control.settings.editing.allowDependencyDeleting)return!1;n.forEach((function(t){return e.history.addAndRedo(new a.RemoveDependencyHistoryItem(e.modelManipulator,t.id))}))}return this.control.viewModel.assignments.items.filter((function(e){return e.taskId==t})).forEach((function(t){return e.history.addAndRedo(new c.DeassignResourceHistoryItem(e.modelManipulator,t.id))})),this.history.addAndRedo(new s.RemoveTaskHistoryItem(this.modelManipulator,t)),this.history.endTransaction(),!0},e.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskDeleting},e}(u);e.RemoveTaskCommand=h},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),s=n(18),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getState=function(){return new r.SimpleCommandState(this.isEnabled())},e.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskUpdating},e}(r.CommandBase);e.TaskPropertyCommandBase=a;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(e,n){return t.prototype.execute.call(this,e,n)},e.prototype.executeInternal=function(t,e){return this.history.addAndRedo(new s.TaskTitleHistoryItem(this.modelManipulator,t,e)),!0},e}(a);e.TaskTitleCommand=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(e,n){return t.prototype.execute.call(this,e,n)},e.prototype.executeInternal=function(t,e){return this.history.addAndRedo(new s.TaskDesriptionHistoryItem(this.modelManipulator,t,e)),!0},e}(a);e.TaskDescriptionCommand=u;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(e,n){return t.prototype.execute.call(this,e,n)},e.prototype.executeInternal=function(t,e){return this.history.addAndRedo(new s.TaskProgressHistoryItem(this.modelManipulator,t,e)),!0},e}(a);e.TaskProgressCommand=l;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(e,n){return t.prototype.execute.call(this,e,n)},e.prototype.executeInternal=function(t,e){return this.history.addAndRedo(new s.TaskStartHistoryItem(this.modelManipulator,t,e)),!0},e}(a);e.TaskStartCommand=h;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(e,n){return t.prototype.execute.call(this,e,n)},e.prototype.executeInternal=function(t,e){return this.history.addAndRedo(new s.TaskEndHistoryItem(this.modelManipulator,t,e)),!0},e}(a);e.TaskEndCommand=p},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),s=n(19),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getState=function(){return new r.SimpleCommandState(this.isEnabled())},e}(r.CommandBase);e.DependencyCommandBase=a;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(e,n,o){return t.prototype.execute.call(this,e,n,o)},e.prototype.executeInternal=function(t,e,n){return this.history.addAndRedo(new s.InsertDependencyHistoryItem(this.modelManipulator,t,e,n)),!0},e.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.control.settings.editing.allowDependencyAdding},e}(a);e.CreateDependencyCommand=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(e){return t.prototype.execute.call(this,e)},e.prototype.executeInternal=function(t){return this.history.addAndRedo(new s.RemoveDependencyHistoryItem(this.modelManipulator,t)),!0},e.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.control.settings.editing.allowDependencyDeleting},e}(a);e.RemoveDependencyCommand=u},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),s=n(20),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getState=function(){return new r.SimpleCommandState(this.isEnabled())},e}(r.CommandBase);e.ResourceCommandBase=a;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(e){return t.prototype.execute.call(this,e)},e.prototype.executeInternal=function(t){return this.history.addAndRedo(new s.CreateResourceHistoryItem(this.modelManipulator,t)),!0},e}(a);e.CreateResourceCommand=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(e){return t.prototype.execute.call(this,e)},e.prototype.executeInternal=function(t){var e=this;return this.history.beginTransaction(),this.control.viewModel.assignments.items.filter((function(e){return e.resourceId==t})).forEach((function(t){return e.history.addAndRedo(new s.DeassignResourceHistoryItem(e.modelManipulator,t.internalId))})),this.history.addAndRedo(new s.RemoveResourceHistoryItem(this.modelManipulator,t)),this.history.endTransaction(),!0},e}(a);e.RemoveResourceCommand=u;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(e,n){return t.prototype.execute.call(this,e,n)},e.prototype.executeInternal=function(t,e){return this.history.addAndRedo(new s.AssignResourceHistoryItem(this.modelManipulator,t,e)),!0},e}(a);e.AssignResourceCommand=l;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(e){return t.prototype.execute.call(this,e)},e.prototype.executeInternal=function(t){return this.history.addAndRedo(new s.DeassignResourceHistoryItem(this.modelManipulator,t)),!0},e}(a);e.DeassignResourceCommand=h},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(21),s=n(18),a=n(11),c=n(20),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.applyParameters=function(t,e){this.history.beginTransaction(),t.title!=e.title&&this.history.addAndRedo(new s.TaskTitleHistoryItem(this.modelManipulator,e.id,t.title)),t.progress!=e.progress&&this.history.addAndRedo(new s.TaskProgressHistoryItem(this.modelManipulator,e.id,t.progress)),t.start!=e.start&&this.history.addAndRedo(new s.TaskStartHistoryItem(this.modelManipulator,e.id,t.start)),t.end!=e.end&&this.history.addAndRedo(new s.TaskEndHistoryItem(this.modelManipulator,e.id,t.end));for(var n=0;n<t.assigned.length;n++){e.assigned.getItemById(t.assigned.getItem(n).internalId)||this.history.addAndRedo(new c.AssignResourceHistoryItem(this.modelManipulator,t.assigned.getItem(n).internalId,e.id))}var o=function(n){var o=e.assigned.getItem(n);if(!t.assigned.getItemById(o.internalId)){var r=i.control.viewModel.assignments.items.find((function(t){return t.resourceId==o.internalId&&t.taskId==e.id}));i.history.addAndRedo(new c.DeassignResourceHistoryItem(i.modelManipulator,r.internalId))}},i=this;for(n=0;n<e.assigned.length;n++)o(n);return this.history.endTransaction(),!1},e.prototype.createParameters=function(t){var e=new l;return e.id=t.internalId,e.title=t.title,e.progress=t.progress,e.start=t.start,e.end=t.end,e.assigned=this.control.viewModel.getAssignedResources(t),e.resources=new a.ResourceCollection,e.resources.addRange(this.control.viewModel.resources.items),e.showResourcesDialogCommand=this.control.commandManager.showResourcesDialog,e},e.prototype.getDialogName=function(){return"TaskEdit"},e}(r.DialogBase);e.TaskEditDialogCommand=u;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.clone=function(){var t=new e;return t.id=this.id,t.title=this.title,t.progress=this.progress,t.start=this.start,t.end=this.end,t.assigned=new a.ResourceCollection,t.assigned.addRange(this.assigned.items),t.resources=new a.ResourceCollection,t.resources.addRange(this.resources.items),t.showResourcesDialogCommand=this.showResourcesDialogCommand,t},e}(r.DialogParametersBase);e.TaskEditParameters=l},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=n(21),a=n(19);!function(t){t[t.DoNothing=0]="DoNothing",t[t.RemoveDependency=1]="RemoveDependency",t[t.KeepDependency=2]="KeepDependency"}(r=e.ConstraintViolationOption||(e.ConstraintViolationOption={}));var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.applyParameters=function(t,e){return t.option!==r.DoNothing&&(t.option===r.RemoveDependency&&this.history.addAndRedo(new a.RemoveDependencyHistoryItem(this.modelManipulator,e.dependencyId)),!0)},e.prototype.createParameters=function(t){var e=new u;return e.dependencyId=t,e},e.prototype.getDialogName=function(){return"ConstraintViolation"},e}(s.DialogBase);e.ConstraintViolationDialogCommand=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.clone=function(){var t=new e;return t.dependencyId=this.dependencyId,t.option=this.option,t},e}(s.DialogParametersBase);e.ConstraintViolationDialogParameters=u},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(21),s=n(11),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.applyParameters=function(t,e){this.history.beginTransaction();for(var n=0;n<t.resources.length;n++){e.resources.getItemById(t.resources.getItem(n).internalId)||this.control.commandManager.createResourceCommand.execute(t.resources.getItem(n).text)}for(n=0;n<e.resources.length;n++){t.resources.getItemById(e.resources.getItem(n).internalId)||this.control.commandManager.removeResourceCommand.execute(e.resources.getItem(n).internalId)}return this.history.endTransaction(),!1},e.prototype.createParameters=function(){var t=new c;return t.resources=new s.ResourceCollection,t.resources.addRange(this.control.viewModel.resources.items),t},e.prototype.getDialogName=function(){return"Resources"},e}(r.DialogBase);e.ResourcesDialogCommand=a;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.clone=function(){var t=new e;return t.resources=new s.ResourceCollection,t.resources.addRange(this.resources.items),t},e}(r.DialogParametersBase);e.ResourcesDialogParameters=c}])}));